{"ast":null,"code":"var _jsxFileName = \"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Instructor_Teacher_Frontend/wap/src/CreateCourse.js\";\nimport React from 'react';\nimport './CreateCourse.css';\nimport DisplyOne from './DisplayOne';\n\nclass CreateCourse extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.texthandler = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n\n      if (this.state.name.trim() === \"\") {\n        this.setState({\n          name_err: \"Course Name must not be empty\"\n        });\n      } else {\n        this.setState({\n          name_err: \"\"\n        });\n      }\n\n      if (this.state.description.trim() === \"\") {\n        this.setState({\n          description_err: \"Course description required\"\n        });\n      }\n\n      if (this.state.description.length < 90) {\n        this.setState({\n          description_err: \"Course Description must be at least 90 characters\"\n        });\n      } else {\n        this.setState({\n          description_err: \"\"\n        });\n      }\n\n      if (this.state.name.length < 10) {\n        this.setState({\n          name_err: \"Name must be atleast 10 characters long\"\n        });\n      }\n    };\n\n    this.course_imghandler = e => {\n      this.setState({\n        course_img: e.target.files[0]\n      });\n    };\n\n    this.levelhandler = e => {\n      this.setState({\n        level: e.target.value\n      });\n    };\n\n    this.submitpost = e => {\n      e.preventDefault();\n      let data = new FormData();\n      data.append(\"course_img\", this.state.course_img);\n      data.append(\"name\", this.state.name);\n      data.append(\"level\", this.state.level);\n      data.append(\"description\", this.state.description);\n\n      if (this.state.name == null) {\n        this.setState({\n          name_err: \"Course Name required\"\n        });\n      } else if (this.state.name < 10) {\n        this.setState({\n          name_err: \"Course name must be atleast 10 characters\"\n        });\n      } else if (this.state.description.length < 90) {\n        this.setState({\n          description_err: \"Course description must be atleast 90 characters long\"\n        });\n      } else if (this.state.description.trim() === \"\") {\n        this.setState({\n          description_err: \"Description required\"\n        });\n      } else if (this.state.course_img == null) {\n        this.setState({\n          img_err: \"Course image required\"\n        });\n      } else {\n        //Else, we send data to the server for processing\n        fetch(\" http://127.0.0.1:5000/create_course\", {\n          method: \"POST\",\n          body: data,\n          headers: {\n            Authorization: `${localStorage.getItem(\"instructor_token\")}`\n          }\n        }).then(res => res.json()).then(data => {\n          alert(data.message);\n          this.props.history.push(\"display\");\n        }).catch(err => alert(err));\n      }\n    };\n\n    this.state = {\n      name: \"\",\n      course_img: null,\n      description: \"\",\n      level: \"shs\",\n      name_err: \"\",\n      description_err: \"\",\n      img_err: \"\"\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-container \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        fontSize: 20,\n        color: \"#333\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 19\n      }\n    }, \"Create a course\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        flexDirection: \"row\"\n      },\n      className: \"col text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        marginTop: 20,\n        textAlign: \"center\",\n        fontSize: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }\n    }, \"Name of course\"), /*#__PURE__*/React.createElement(\"input\", {\n      style: {\n        width: 200\n      },\n      onChange: this.texthandler,\n      type: \"text\",\n      name: \"name\",\n      value: this.state.name,\n      className: \"courseinput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        color: \"red\",\n        fontSize: 16\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }\n    }, this.state.name_err)), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        flexDirection: \"row\"\n      },\n      className: \"col text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        marginTop: 20,\n        textAlign: \"center\",\n        fontSize: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }\n    }, \"SHS/JHS\"), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"selectinput\",\n      value: this.state.level,\n      onChange: this.levelhandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"shs\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }\n    }, \"SHS\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"jhs\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }\n    }, \"JHS\"))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        flexDirection: \"row\"\n      },\n      className: \"col text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        marginTop: 20,\n        textAlign: \"center\",\n        fontSize: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }\n    }, \"Description\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      value: this.state.description,\n      style: {\n        width: 200\n      },\n      onChange: this.texthandler,\n      type: \"text\",\n      name: \"description\",\n      className: \"courseinput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        color: \"red\",\n        fontSize: 16\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }\n    }, this.state.description_err)), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        flexDirection: \"row\"\n      },\n      className: \"col text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        marginTop: 20,\n        textAlign: \"center\",\n        fontSize: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }\n    }, \"Course Coverphoto\"), /*#__PURE__*/React.createElement(\"input\", {\n      ref: ref => {\n        this.post_media = ref;\n      },\n      style: {\n        width: 200\n      },\n      onChange: this.course_imghandler,\n      type: \"file\",\n      name: \"post_media\",\n      className: \"inputfile1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        color: \"red\",\n        fontSize: 16,\n        marginTop: -40\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }\n    }, this.state.img_err)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Next\",\n      onClick: this.submitpost,\n      style: {\n        width: 200\n      },\n      className: \"formbutton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 18\n      }\n    })))));\n  }\n\n}\n\nexport default CreateCourse;","map":{"version":3,"sources":["/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Instructor_Teacher_Frontend/wap/src/CreateCourse.js"],"names":["React","DisplyOne","CreateCourse","Component","constructor","props","texthandler","e","setState","target","name","value","state","trim","name_err","description","description_err","length","course_imghandler","course_img","files","levelhandler","level","submitpost","preventDefault","data","FormData","append","img_err","fetch","method","body","headers","Authorization","localStorage","getItem","then","res","json","alert","message","history","push","catch","err","render","fontSize","color","flexDirection","marginTop","textAlign","width","ref","post_media"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './CreateCourse.css';\nimport DisplyOne from './DisplayOne';\n\n\nclass CreateCourse extends React.Component{\n\nconstructor(props){\n    super(props);\n    this.state={\n        name:\"\",\n        course_img:null,\n        description:\"\",\n        level:\"shs\",\n        name_err:\"\",\n        description_err:\"\",\n        img_err:\"\",\n\n    }\n}\n\n\n\ntexthandler=(e)=>{\n    this.setState({\n        [e.target.name]:e.target.value\n    })\n\n    if (this.state.name.trim()===\"\"){\n        this.setState({\n            name_err:\"Course Name must not be empty\"\n        })\n    }\n    else{\n        this.setState({\n            name_err:\"\"\n        })\n    }\n\n    if(this.state.description.trim()===\"\"){\n        this.setState({\n            description_err:\"Course description required\"\n        })\n    }\n\n     if(this.state.description.length<90){\n         this.setState({\n             description_err:\"Course Description must be at least 90 characters\"\n         })\n     }\n     else{\n         this.setState({\n             description_err:\"\"\n         })\n     }\n\n\n     if(this.state.name.length<10){\n         this.setState({\n             name_err:\"Name must be atleast 10 characters long\"\n         })\n     }\n\n   \n}\n\ncourse_imghandler=(e)=>{\n    this.setState({\n        course_img:e.target.files[0]\n    })\n\n    \n\n    \n}\n\n\nlevelhandler=(e)=>{\n    this.setState({\n        level:e.target.value\n    })\n}\n\nsubmitpost=(e)=>{\ne.preventDefault();\nlet data=new FormData();\ndata.append(\"course_img\",this.state.course_img);\ndata.append(\"name\",this.state.name);\ndata.append(\"level\",this.state.level)\ndata.append(\"description\",this.state.description)\n\n\n\n\nif(this.state.name==null){\n    this.setState({\n        name_err:\"Course Name required\"\n    })\n}\n\n\nelse if (this.state.name<10){\nthis.setState({\n    name_err:\"Course name must be atleast 10 characters\"\n})\n}\n\nelse if(this.state.description.length<90){\n    this.setState({\n        description_err:\"Course description must be atleast 90 characters long\"\n    })\n\n}\nelse if(this.state.description.trim()===\"\"){\n    this.setState({\n        description_err:\"Description required\"\n    })\n}\n\nelse if(this.state.course_img==null){\n    this.setState({\n        img_err:\"Course image required\"\n    })\n}\n\n\n\nelse{\n    //Else, we send data to the server for processing\n\nfetch(\" http://127.0.0.1:5000/create_course\",{\n  method:\"POST\" , \n  body:data,\n  headers:{\n      Authorization:`${localStorage.getItem(\"instructor_token\")}`\n  }\n}\n)\n.then(res=>res.json())\n.then(data=>{alert(data.message);\nthis.props.history.push(\"display\")\n}\n)\n.catch(err=>alert(err))\n}\n}\n\n\n\n\nrender(){\n    return(\n       \n        <div className=\"row \">\n        <div className=\"bg\">\n      \n              <div className=\"form-container \">\n                  <h3 style={{fontSize:20,color:\"#333\"}}>Create a course</h3> \n\n\n                  <div style={{flexDirection:\"row\"}} className=\"col text-center\">\n        <h3 style={{marginTop:20,textAlign:\"center\",fontSize:20}}>Name of course</h3>\n        <input style={{width:200}} onChange={this.texthandler} type=\"text\" name=\"name\" value={this.state.name} className=\"courseinput\"/>\n        <h3 style={{color:\"red\",fontSize:16}}>{this.state.name_err}</h3>\n        </div>\n\n        <div style={{flexDirection:\"row\"}} className=\"col text-center\">\n        <h3 style={{marginTop:20,textAlign:\"center\",fontSize:20}}>SHS/JHS</h3>\n        <select className=\"selectinput\" value={this.state.level} onChange={this.levelhandler}>\n        <option value=\"shs\">SHS</option>\n        <option value=\"jhs\">JHS</option>\n      </select>\n      </div>\n\n\n        <div style={{flexDirection:\"row\"}} className=\"col text-center\">\n        <h3 style={{marginTop:20,textAlign:\"center\",fontSize:20}}>Description</h3>\n        <textarea value={this.state.description} style={{width:200}} onChange={this.texthandler} type=\"text\" name=\"description\" className=\"courseinput\"/>\n        <h3 style={{color:\"red\",fontSize:16}}>{this.state.description_err}</h3>\n        </div>\n                  \n                  <div style={{flexDirection:\"row\"}} className=\"col text-center\">\n        <h3 style={{marginTop:20,textAlign:\"center\",fontSize:20}}>Course Coverphoto</h3>\n        <input ref={(ref)=>{this.post_media=ref;}}   style={{width:200}} onChange={this.course_imghandler} type=\"file\" name=\"post_media\" className=\"inputfile1\"/>\n        <h3 style={{color:\"red\",fontSize:16,marginTop:-40}}>{this.state.img_err}</h3>\n        </div>\n        \n                 <div className=\"col text-center\">\n                 <input type=\"submit\" value='Next' onClick={this.submitpost} style={{width:200}} className=\"formbutton\"/>\n                 </div>\n        \n  \n        </div>\n     </div>\n     </div>\n     \n    )\n}\n}\n\nexport default CreateCourse;"]},"metadata":{},"sourceType":"module"}