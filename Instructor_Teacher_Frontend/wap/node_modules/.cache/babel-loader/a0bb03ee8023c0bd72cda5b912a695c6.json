{"ast":null,"code":"import _classCallCheck from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Instructor_Teacher_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Instructor_Teacher_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Instructor_Teacher_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Instructor_Teacher_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/*e.preventDefault() function in any line will prevent\nthe the form from submitting automatically\n*/import React from'react';import InstructorLogin from'./InstructorLogin';import'./Editprofile.css';var Editprofile=/*#__PURE__*/function(_React$Component){_inherits(Editprofile,_React$Component);var _super=_createSuper(Editprofile);function Editprofile(props){var _this;_classCallCheck(this,Editprofile);_this=_super.call(this,props);_this.filechangehandler=function(event){_this.setState({instructor_img:event.target.files[0]});};_this.uploadhandler=function(e){e.preventDefault();/*I'm checking to see wether the bio is empty or not\n    If it's  empty, we throw error message*/if(_this.state.instructor_img==null){_this.setState({imgerr:\"Photo Required\"});}else{//Otherwise we send the image to the server\nvar formData=new FormData();formData.append(\"instructor_img\",_this.state.instructor_img);fetch(\"http://127.0.0.1:5000/instructor_update_profile_img\",{method:\"POST\",body:formData,headers:{Authorization:\"\".concat(localStorage.getItem(\"instructor_token\"))}}).then(function(res){alert(\"Profile photo updated\");}).catch(function(err){alert(err);});}};_this.biohandler=function(e){_this.setState({bio:e.target.value});};_this.submitbio=function(e){e.preventDefault();/*I'm checking to see wether the bio is empty or not\n    If it's  empty, we throw error message*/if(_this.state.bio.trim()===\"\"){_this.setState({bioerr:\"Bio Required\"});}else{//Otherwise,we send data to the server\nfetch(\"http://127.0.0.1:5000/instructor_update_bio\",{method:\"POST\",body:JSON.stringify(_this.state.bio),\"Content-type\":\"application/json\",headers:{Authorization:\"\".concat(localStorage.getItem(\"instructor_token\"))}}).then(function(res){return res.json();}).then(function(data){alert(data.message);}).catch(function(err){console.log(err);});}};_this.namehandler=function(e){_this.setState({name:e.target.value});};_this.submitname=function(e){e.preventDefault();/*I'm checking to see wether the name is empty or not\n    If it's  empty, we throw error message*/if(_this.state.name.trim()===\"\"){_this.setState({nameerr:\"Name Required\"});}else{//Otherwise ,we send data to the server\nfetch(\"http://127.0.0.1:5000/instructor_update_name\",{method:\"POST\",\"Content-Type\":\"Application/json\",body:JSON.stringify(_this.state.name),headers:{Authorization:\"\".concat(localStorage.getItem(\"instructor_token\"))}}).then(function(res){return res.json();}).then(function(data){alert(data.message);}).catch(function(err){console.log(err);});}};_this.state={instructor_img:null,bio:\"\",name:\"\",nameerr:\"\",bioerr:\"\",imgerr:\"\"};return _this;}_createClass(Editprofile,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{style:{flexDirection:\"row\"},className:\"col text-center\"},/*#__PURE__*/React.createElement(\"h3\",{style:{marginTop:100,textAlign:\"center\",fontSize:20}},\"Update profile picture\"),/*#__PURE__*/React.createElement(\"input\",{onChange:this.filechangehandler,type:\"file\",name:\"instructor_img\",className:\"inputfile1\"}),/*#__PURE__*/React.createElement(\"button\",{onClick:this.uploadhandler,className:\"upload-button\"},\"Upload\"),/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"red\",fontSize:18}},this.state.imgerr)),/*#__PURE__*/React.createElement(\"div\",{style:{flexDirection:\"row\"},className:\"col text-center\"},/*#__PURE__*/React.createElement(\"h3\",{style:{marginTop:30,textAlign:\"center\",fontSize:20}},\"Update name\"),/*#__PURE__*/React.createElement(\"input\",{placeholder:\"Name\",value:this.state.name,onChange:this.namehandler,type:\"text\",name:\"name\",className:\"nameinput\"}),/*#__PURE__*/React.createElement(\"button\",{onClick:this.submitname,className:\"namebutton\"},\"Update\"),/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"red\",fontSize:18}},this.state.nameerr)),/*#__PURE__*/React.createElement(\"div\",{style:{flexDirection:\"row\"},className:\"col text-center\"},/*#__PURE__*/React.createElement(\"h3\",{style:{marginTop:30,textAlign:\"center\",fontSize:20}},\"Update Bio\"),/*#__PURE__*/React.createElement(\"textarea\",{required:\"true\",placeholder:\"My Bio\",value:this.state.bio,onChange:this.biohandler,type:\"text\",name:\"bio\",className:\"nameinput\"}),/*#__PURE__*/React.createElement(\"button\",{onClick:this.submitbio,className:\"namebutton\"},\"Update\"),/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"red\",fontSize:18}},this.state.bioerr)),/*#__PURE__*/React.createElement(\"div\",{style:{flexDirection:\"row\"},className:\"col text-center\"},/*#__PURE__*/React.createElement(\"button\",{className:\"logoutbutn\",onClick:function onClick(){localStorage.removeItem(\"instructor_token\");_this2.props.history.push(\"InstructorLogin\");}},\"Logout Account\")));}}]);return Editprofile;}(React.Component);export default Editprofile;","map":{"version":3,"sources":["/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Instructor_Teacher_Frontend/wap/src/EditProfile.js"],"names":["React","InstructorLogin","Editprofile","props","filechangehandler","event","setState","instructor_img","target","files","uploadhandler","e","preventDefault","state","imgerr","formData","FormData","append","fetch","method","body","headers","Authorization","localStorage","getItem","then","res","alert","catch","err","biohandler","bio","value","submitbio","trim","bioerr","JSON","stringify","json","data","message","console","log","namehandler","name","submitname","nameerr","flexDirection","marginTop","textAlign","fontSize","color","removeItem","history","push","Component"],"mappings":"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","sourcesContent":["/*e.preventDefault() function in any line will prevent\nthe the form from submitting automatically\n*/\n\n\nimport React from 'react';\nimport InstructorLogin from './InstructorLogin';\nimport './Editprofile.css';\n\nclass Editprofile extends React.Component{\n\n   \nconstructor(props){\n    super(props);\n    this.state={\n        instructor_img:null,\n        bio:\"\",\n        name:\"\",\n        nameerr:\"\",\n        bioerr:\"\",\n        imgerr:\"\",\n        \n    }\n}\n\n\n\n\n\n\n\n\n\n\n\nfilechangehandler=(event)=>{\n    this.setState({instructor_img:event.target.files[0]})\n  }\n\n  uploadhandler=(e)=>{\n\n    \n\n   e.preventDefault();\n     /*I'm checking to see wether the bio is empty or not\n    If it's  empty, we throw error message*/\n   if(this.state.instructor_img==null){\n    this.setState({\n        imgerr:\"Photo Required\"\n    })\n}\n   else{\n   //Otherwise we send the image to the server\n   const formData=new FormData();\n   formData.append(\"instructor_img\",this.state.instructor_img)\n   \n   fetch(\"http://127.0.0.1:5000/instructor_update_profile_img\",\n   {\n     method:\"POST\",\n     body:formData,\n     headers:{\n         Authorization:`${localStorage.getItem(\"instructor_token\")}`\n     }\n\n   }\n   ).then(res=>{alert(\"Profile photo updated\")}).catch(err=>{alert(err)})\n}\n  }\n\n\n\n\n  \n\nbiohandler=(e)=>{\n    this.setState({\n        bio:e.target.value\n    })\n}\n\n\n\nsubmitbio=(e)=>{\n    e.preventDefault();\n    /*I'm checking to see wether the bio is empty or not\n    If it's  empty, we throw error message*/\n    if (this.state.bio.trim()===\"\"){\n        this.setState({\n            bioerr:\"Bio Required\"\n         })\n    }\n    else{\n        //Otherwise,we send data to the server\n\n    fetch(\"http://127.0.0.1:5000/instructor_update_bio\",{\n        method:\"POST\",\n         body:JSON.stringify(this.state.bio),\n         \"Content-type\":\"application/json\",\n\n    \n    \n    headers:{\n        \n        Authorization:`${localStorage.getItem(\"instructor_token\")}`,\n       \n    }\n}\n    )\n    .then(res=>res.json())\n    .then(data=>{\n        alert(data.message)\n    })\n    .catch(err=>{console.log(err)})\n}\n    \n}\n\n\n\nnamehandler=(e)=>{\n    this.setState({\n        name:e.target.value\n    })\n}\n\n\n\n\nsubmitname=(e)=>{\n    e.preventDefault();\n        /*I'm checking to see wether the name is empty or not\n    If it's  empty, we throw error message*/\n    if (this.state.name.trim()===\"\"){\n        this.setState({\n            nameerr:\"Name Required\"\n         })\n    }\n    else{\n\n    //Otherwise ,we send data to the server\n\n    fetch(\"http://127.0.0.1:5000/instructor_update_name\",{\n        method:\"POST\",\n        \"Content-Type\":\"Application/json\",\n         body:JSON.stringify(this.state.name),\n    \n    \n    headers:{\n        Authorization:`${localStorage.getItem(\"instructor_token\")}`\n    }\n}\n    )\n    .then(res=>res.json())\n    .then(data=>{\n        alert(data.message)\n    }).catch(err=>{console.log(err)})\n} \n}\n\n\n\n\n\n\n\n \n\n  render(){\n      return(\n          <div>\n          <div style={{flexDirection:\"row\"}} className=\"col text-center\">\n          <h3 style={{marginTop:100,textAlign:\"center\",fontSize:20}}>Update profile picture</h3>\n          <input onChange={this.filechangehandler} type=\"file\" name=\"instructor_img\" className=\"inputfile1\"/>\n          <button onClick={this.uploadhandler} className=\"upload-button\">Upload</button>\n          <h3 style={{color:\"red\",fontSize:18}}>{this.state.imgerr}</h3>\n          </div>\n\n        \n\n        \n         \n         \n\n          <div style={{flexDirection:\"row\"}} className=\"col text-center\">\n          <h3 style={{marginTop:30,textAlign:\"center\",fontSize:20}}>Update name</h3>\n          <input  placeholder=\"Name\"value={this.state.name} onChange={this.namehandler} type=\"text\" name=\"name\" className=\"nameinput\"/>\n          <button onClick={this.submitname} className=\"namebutton\">Update</button>\n          <h3 style={{color:\"red\",fontSize:18}}>{this.state.nameerr}</h3>\n          </div>\n\n\n          <div style={{flexDirection:\"row\"}} className=\"col text-center\">\n          <h3 style={{marginTop:30,textAlign:\"center\",fontSize:20}}>Update Bio</h3>\n          <textarea required=\"true\" placeholder=\"My Bio\"value={this.state.bio} onChange={this.biohandler} type=\"text\" name=\"bio\" className=\"nameinput\"/>\n          <button onClick={this.submitbio} className=\"namebutton\">Update</button>\n          <h3 style={{color:\"red\",fontSize:18}}>{this.state.bioerr}</h3>\n          </div>\n       \n          \n        \n\n          <div style={{flexDirection:\"row\"}} className=\"col text-center\">\n          <button className=\"logoutbutn\" onClick={()=>{localStorage.removeItem(\"instructor_token\");this.props.history.push(\"InstructorLogin\")}}>Logout Account</button>\n          </div>\n\n        \n\n\n\n\n\n          </div>\n      )\n  }\n\n}\n\nexport default Editprofile;"]},"metadata":{},"sourceType":"module"}