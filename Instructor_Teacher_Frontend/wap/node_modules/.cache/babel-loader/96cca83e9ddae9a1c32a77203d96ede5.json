{"ast":null,"code":"var _jsxFileName = \"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Instructor_Teacher_Frontend/wap/src/AddVideo.js\";\nimport React from 'react';\nimport './Addvideo.css';\n\nclass AddVideo extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.titlehandler = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.video_url_handler = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.coverphoto_handler = e => {};\n\n    this.deletevideo = id => {\n      fetch(`http://127.0.0.1:5000/videos_delete/${id}`, {\n        method: \"DELETE\"\n      }).then(res => res.json()).then(data => {\n        console.log(data.message);\n        let postlist = this.state.post_comments;\n\n        for (let i = 0; i < postlist.length; i++) {\n          let p = postlist[i];\n\n          if (p._id === id) {\n            postlist.splice(i, 1);\n            break;\n          }\n        }\n\n        this.setState({\n          post: postlist\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.state = {\n      course: [],\n      video_url: \"\",\n      title: \"\",\n      coverphoto: \"\",\n      loading: false,\n      coverphoto_err: \"\",\n      name_err: \"\"\n    };\n  }\n\n  componentDidMount() {\n    /*For fetching videos under a particular course\n    So the the courses.id is grabbed from the course\n    */\n    fetch(`http://127.0.0.1:5000/add_video/${this.props.match.params.id}`, {\n      method: \"GET\"\n    }).then(res => res.json()).then(data => {\n      this.setState({\n        course: data.course\n      });\n    }).catch(err => console.log(err));\n  }\n\n  addvideo(id) {\n    const data = new FormData();\n    data.append(\"coverphoto\", this.state.coverphoto);\n    data.append(\"title\", this.state.title);\n    fetch(`http://127.0.0.1:5000/add_video/${id}`, {\n      method: \"POST\",\n      body: data,\n      headers: {\n        Authorization: `${localStorage.getItem(\"token\")}`\n      }\n    }).then(res => res.json()).then(data => {\n      alert(\"Video uploaded\");\n    }).catch(err => {\n      alert(\"No Network\");\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row add-pdf-background\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 14\n      }\n    }, this.state.course.map(t => {\n      const id = {\n        t\n      };\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          marginTop: 100,\n          paddingBottom: 30\n        },\n        className: \"form-container \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 18\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          flexDirection: \"row\"\n        },\n        className: \"col text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 20\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        style: {\n          marginTop: 10,\n          textAlign: \"center\",\n          fontSize: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 10\n        }\n      }, \"Video title/topic\"), /*#__PURE__*/React.createElement(\"input\", {\n        value: this.state.title,\n        style: {\n          width: 200\n        },\n        onChange: this.titlehandler,\n        type: \"text\",\n        name: \"title\",\n        className: \"courseinput\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 10\n        }\n      }), /*#__PURE__*/React.createElement(\"h3\", {\n        style: {\n          color: \"red\",\n          fontSize: 16\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 10\n        }\n      }, this.state.title_err)), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          flexDirection: \"row\"\n        },\n        className: \"col text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 20\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        style: {\n          marginTop: 10,\n          textAlign: \"center\",\n          fontSize: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 10\n        }\n      }, \"Course Video Link/URL\"), /*#__PURE__*/React.createElement(\"input\", {\n        value: this.state.video_url,\n        style: {\n          width: 200\n        },\n        onChange: this.video_url_handler,\n        type: \"text\",\n        name: \"video_url\",\n        className: \"courseinput\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 10\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          flexDirection: \"row\"\n        },\n        className: \"col text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 10\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        style: {\n          marginTop: 10,\n          textAlign: \"center\",\n          fontSize: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 10\n        }\n      }, \"Video Coverphoto\"), /*#__PURE__*/React.createElement(\"input\", {\n        value: this.state.coverphoto,\n        style: {\n          width: 200\n        },\n        onChange: this.coverphoto_handler,\n        type: \"file\",\n        name: \"coverphoto\",\n        className: \"inputfile1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 10\n        }\n      }), /*#__PURE__*/React.createElement(\"h3\", {\n        style: {\n          color: \"red\",\n          fontSize: 16\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 10\n        }\n      }, this.state.coverphoto_err)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Post\",\n        onClick: () => this.addvideo(t.id),\n        style: {\n          width: 200\n        },\n        className: \"formbutton\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 19\n        }\n      })));\n    }));\n  }\n\n}\n\nexport default AddVideo;","map":{"version":3,"sources":["/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Instructor_Teacher_Frontend/wap/src/AddVideo.js"],"names":["React","AddVideo","Component","constructor","props","titlehandler","e","setState","target","name","value","video_url_handler","coverphoto_handler","deletevideo","id","fetch","method","then","res","json","data","console","log","message","postlist","state","post_comments","i","length","p","_id","splice","post","catch","err","course","video_url","title","coverphoto","loading","coverphoto_err","name_err","componentDidMount","match","params","addvideo","FormData","append","body","headers","Authorization","localStorage","getItem","alert","render","map","t","marginTop","paddingBottom","flexDirection","textAlign","fontSize","width","color","title_err"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './Addvideo.css';\n\n\nclass AddVideo extends React.Component{\n    constructor(props){\n        super(props);\n        this.state={\n            course:[],\n            video_url:\"\",\n            title:\"\",\n            coverphoto:\"\",\n            loading:false,\n            coverphoto_err:\"\",\n            name_err:\"\"\n        }\n    }\n\n\n    componentDidMount(){\n        /*For fetching videos under a particular course\n        So the the courses.id is grabbed from the course\n        */\n         fetch(`http://127.0.0.1:5000/add_video/${this.props.match.params.id}`,\n \n   {\n     method:\"GET\",\n \n    \n }\n )\n .then(res=>res.json())\n .then(data=>{\n     this.setState({\n        course:data.course\n     })\n \n    \n })\n .catch(err=>console.log(err))\n     }\n \n \n\n\ntitlehandler=(e)=>{\nthis.setState({\n    [e.target.name]:e.target.value\n})\n}\n\n\nvideo_url_handler=(e)=>{\n    this.setState({\n        [e.target.name]:e.target.value\n    })\n}\n\n\ncoverphoto_handler=(e)=>{\n    \n}\n\n\n\n \n  \n     addvideo(id){\n         const data=new FormData();\n         data.append(\"coverphoto\",this.state.coverphoto)\n         data.append(\"title\",this.state.title)\n\n\n      \n \n         fetch(`http://127.0.0.1:5000/add_video/${id}`,\n         {\n             method:\"POST\",\n             body:data,\n             headers:{\n              Authorization: `${localStorage.getItem(\"token\")}`\n          },\n         }\n \n         )\n         .then(res=>res.json())\n         .then(data=>{\n             alert(\"Video uploaded\")\n          })\n         .catch(err=>{\n             alert(\"No Network\")\n         })\n        }\n     \n \n \n \n \n \n     deletevideo=(id)=>{\n      \n      fetch(`http://127.0.0.1:5000/videos_delete/${id}`,\n     \n  \n      {\n          method:\"DELETE\"\n      }\n      )\n      .then(res=>res.json())\n      .then(data=>{\n          console.log(data.message)\n          let postlist=this.state.post_comments\n          for(let i=0;i<postlist.length;i++){\n              let p=postlist[i]\n              if(p._id===id){\n                  postlist.splice(i,1)\n                  break\n              }\n          }\n          this.setState({post:postlist})\n      })\n      .catch(err=>{console.log(err)})\n      \n  \n  \n    }\n  \n  \n \n \n \n \n \n \n \n     render(){\n         return(\n             <div className=\"row add-pdf-background\">\n        {\n          this.state.course.map(t=>{\n              const id={t}\n              return(\n                 <div style={{marginTop:100,paddingBottom:30}} className=\"form-container \">\n                   \n \n \n                   <div style={{flexDirection:\"row\"}} className=\"col text-center\">\n         <h3 style={{marginTop:10,textAlign:\"center\",fontSize:20}}>Video title/topic</h3>\n         <input  value={this.state.title}  style={{width:200}} onChange={this.titlehandler} type=\"text\" name=\"title\" className=\"courseinput\"/>\n         <h3 style={{color:\"red\",fontSize:16}}>{this.state.title_err}</h3>\n         </div>\n                   \n                   <div style={{flexDirection:\"row\"}} className=\"col text-center\">\n         <h3 style={{marginTop:10,textAlign:\"center\",fontSize:20}}>Course Video Link/URL</h3>\n         <input  value={this.state.video_url}  style={{width:200}} onChange={this.video_url_handler} type=\"text\" name=\"video_url\" className=\"courseinput\"/>\n         </div>\n         \n\n         <div style={{flexDirection:\"row\"}} className=\"col text-center\">\n         <h3 style={{marginTop:10,textAlign:\"center\",fontSize:20}}>Video Coverphoto</h3>\n         <input value={this.state.coverphoto}  style={{width:200}} onChange={this.coverphoto_handler} type=\"file\" name=\"coverphoto\" className=\"inputfile1\"/>\n         <h3 style={{color:\"red\",fontSize:16}}>{this.state.coverphoto_err}</h3>\n         </div>\n\n\n\n                  <div className=\"col text-center\">\n                  <input type=\"submit\" value='Post' onClick={()=>this.addvideo(t.id)} style={{width:200}} className=\"formbutton\"/>\n                  </div>\n                  </div>\n                 \n              )\n \n              \n          })\n        }\n     </div>\n         )\n }\n \n\n\n}\n\nexport default AddVideo;\n\n\n"]},"metadata":{},"sourceType":"module"}