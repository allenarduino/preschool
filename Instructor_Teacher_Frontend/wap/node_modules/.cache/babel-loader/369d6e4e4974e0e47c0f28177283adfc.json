{"ast":null,"code":"import _classCallCheck from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Instructor_Teacher_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Instructor_Teacher_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Instructor_Teacher_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Instructor_Teacher_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./Addpdf.css';var AddPdf=/*#__PURE__*/function(_React$Component){_inherits(AddPdf,_React$Component);var _super=_createSuper(AddPdf);function AddPdf(props){var _this;_classCallCheck(this,AddPdf);_this=_super.call(this,props);_this.pdfhandler=function(e){_this.setState({pdf:e.target.files[0]});};_this.titlehandler=function(e){_this.setState({title:e.target.value});};_this.deletevideo=function(id){fetch(\"http://127.0.0.1:5000/videos_delete/\".concat(id),{method:\"DELETE\"}).then(function(res){return res.json();}).then(function(data){console.log(data.message);var postlist=_this.state.post_comments;for(var i=0;i<postlist.length;i++){var p=postlist[i];if(p._id===id){postlist.splice(i,1);break;}}_this.setState({post:postlist});}).catch(function(err){console.log(err);});};_this.state={course:[],pdf:\"\",title:\"\"};return _this;}_createClass(AddPdf,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;/*For fetching videos under a particular course\n        So the the courses.id is grabbed from the course\n        */fetch(\"http://127.0.0.1:5000/add_pdf/\".concat(this.props.match.params.id),{method:\"GET\"}).then(function(res){return res.json();}).then(function(data){_this2.setState({course:data.course});}).catch(function(err){return console.log(err);});}//For adding a topic or a video for a specific course   \n},{key:\"addpdf\",value:function addpdf(id){var data=new FormData();data.append(\"pdf\",this.state.pdf);data.append(\"title\",this.state.title);fetch(\"http://127.0.0.1:5000/add_pdf/\".concat(id),{method:\"POST\",body:data,headers:{Authorization:\"\".concat(localStorage.getItem(\"instructor_token\"))}}).then(function(res){return res.json();}).then(function(data){alert(\"PDF uploaded\");}).catch(function(err){console.log(err);});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"row add-pdf-background\"},this.state.course.map(function(t){var id={t:t};return/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:100,paddingBottom:30},className:\" form-container \"},/*#__PURE__*/React.createElement(\"div\",{style:{flexDirection:\"row\"},className:\"col text-center\"},/*#__PURE__*/React.createElement(\"h3\",{style:{marginTop:10,textAlign:\"center\",fontSize:20}},\"PDF Title\"),/*#__PURE__*/React.createElement(\"input\",{required:true,style:{width:200},onChange:_this3.titlehandler,type:\"text\",name:\"title\",className:\"courseinput\"})),/*#__PURE__*/React.createElement(\"div\",{style:{flexDirection:\"row\"},className:\"col text-center\"},/*#__PURE__*/React.createElement(\"h3\",{style:{marginTop:10,textAlign:\"center\",fontSize:20}},\"Course PDF\"),/*#__PURE__*/React.createElement(\"input\",{required:true,ref:function ref(_ref){_this3.pdf=_ref;},style:{width:200},onChange:_this3.pdfhandler,type:\"file\",name:\"post_media\",className:\"inputfile3\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-center\"},/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Post\",onClick:function onClick(){return _this3.addpdf(t.id);},style:{width:200},className:\"formbutton\"})));}));}}]);return AddPdf;}(React.Component);export default AddPdf;","map":{"version":3,"sources":["/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Instructor_Teacher_Frontend/wap/src/AddPdf.js"],"names":["React","AddPdf","props","pdfhandler","e","setState","pdf","target","files","titlehandler","title","value","deletevideo","id","fetch","method","then","res","json","data","console","log","message","postlist","state","post_comments","i","length","p","_id","splice","post","catch","err","course","match","params","FormData","append","body","headers","Authorization","localStorage","getItem","alert","map","t","marginTop","paddingBottom","flexDirection","textAlign","fontSize","width","ref","addpdf","Component"],"mappings":"4zBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,cAAP,C,GAGMC,CAAAA,M,4GACF,gBAAYC,KAAZ,CAAkB,wCACd,uBAAMA,KAAN,EADc,MAsCjBC,UAtCiB,CAsCN,SAACC,CAAD,CAAK,CACZ,MAAKC,QAAL,CAAc,CACVC,GAAG,CAACF,CAAC,CAACG,MAAF,CAASC,KAAT,CAAe,CAAf,CADM,CAAd,EAGH,CA1CgB,OA4CjBC,YA5CiB,CA4CJ,SAACL,CAAD,CAAK,CACd,MAAKC,QAAL,CAAc,CACVK,KAAK,CAACN,CAAC,CAACG,MAAF,CAASI,KADL,CAAd,EAGH,CAhDgB,OA8EjBC,WA9EiB,CA8EL,SAACC,EAAD,CAAM,CAEjBC,KAAK,+CAAwCD,EAAxC,EAGL,CACIE,MAAM,CAAC,QADX,CAHK,CAAL,CAOCC,IAPD,CAOM,SAAAC,GAAG,QAAEA,CAAAA,GAAG,CAACC,IAAJ,EAAF,EAPT,EAQCF,IARD,CAQM,SAAAG,IAAI,CAAE,CACRC,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,OAAjB,EACA,GAAIC,CAAAA,QAAQ,CAAC,MAAKC,KAAL,CAAWC,aAAxB,CACA,IAAI,GAAIC,CAAAA,CAAC,CAAC,CAAV,CAAYA,CAAC,CAACH,QAAQ,CAACI,MAAvB,CAA8BD,CAAC,EAA/B,CAAkC,CAC9B,GAAIE,CAAAA,CAAC,CAACL,QAAQ,CAACG,CAAD,CAAd,CACA,GAAGE,CAAC,CAACC,GAAF,GAAQhB,EAAX,CAAc,CACVU,QAAQ,CAACO,MAAT,CAAgBJ,CAAhB,CAAkB,CAAlB,EACA,MACH,CACJ,CACD,MAAKrB,QAAL,CAAc,CAAC0B,IAAI,CAACR,QAAN,CAAd,EACH,CAnBD,EAoBCS,KApBD,CAoBO,SAAAC,GAAG,CAAE,CAACb,OAAO,CAACC,GAAR,CAAYY,GAAZ,EAAiB,CApB9B,EAwBH,CAxGmB,CAEd,MAAKT,KAAL,CAAW,CACPU,MAAM,CAAC,EADA,CAEP5B,GAAG,CAAC,EAFG,CAGPI,KAAK,CAAC,EAHC,CAAX,CAFc,aAOjB,C,gFAGkB,iBACf;;UAGCI,KAAK,yCAAkC,KAAKZ,KAAL,CAAWiC,KAAX,CAAiBC,MAAjB,CAAwBvB,EAA1D,EAEX,CACEE,MAAM,CAAC,KADT,CAFW,CAAL,CAQPC,IARO,CAQF,SAAAC,GAAG,QAAEA,CAAAA,GAAG,CAACC,IAAJ,EAAF,EARD,EASPF,IATO,CASF,SAAAG,IAAI,CAAE,CACR,MAAI,CAACd,QAAL,CAAc,CACX6B,MAAM,CAACf,IAAI,CAACe,MADD,CAAd,EAKH,CAfO,EAgBPF,KAhBO,CAgBD,SAAAC,GAAG,QAAEb,CAAAA,OAAO,CAACC,GAAR,CAAYY,GAAZ,CAAF,EAhBF,EAiBH,CAKJ;sCAcUpB,E,CAAG,CACN,GAAMM,CAAAA,IAAI,CAAC,GAAIkB,CAAAA,QAAJ,EAAX,CACAlB,IAAI,CAACmB,MAAL,CAAY,KAAZ,CAAkB,KAAKd,KAAL,CAAWlB,GAA7B,EACAa,IAAI,CAACmB,MAAL,CAAY,OAAZ,CAAoB,KAAKd,KAAL,CAAWd,KAA/B,EAEAI,KAAK,yCAAkCD,EAAlC,EACL,CACIE,MAAM,CAAC,MADX,CAEIwB,IAAI,CAACpB,IAFT,CAGIqB,OAAO,CAAC,CACPC,aAAa,WAAKC,YAAY,CAACC,OAAb,CAAqB,kBAArB,CAAL,CADN,CAHZ,CADK,CAAL,CAUC3B,IAVD,CAUM,SAAAC,GAAG,QAAEA,CAAAA,GAAG,CAACC,IAAJ,EAAF,EAVT,EAWCF,IAXD,CAWM,SAAAG,IAAI,CAAE,CACRyB,KAAK,CAAC,cAAD,CAAL,CACF,CAbF,EAcCZ,KAdD,CAcO,SAAAC,GAAG,CAAE,CACRb,OAAO,CAACC,GAAR,CAAYY,GAAZ,EACH,CAhBD,EAiBH,C,uCA0CO,iBACJ,mBACI,2BAAM,SAAS,CAAC,wBAAhB,EAEH,KAAKT,KAAL,CAAWU,MAAX,CAAkBW,GAAlB,CAAsB,SAAAC,CAAC,CAAE,CACrB,GAAMjC,CAAAA,EAAE,CAAC,CAACiC,CAAC,CAADA,CAAD,CAAT,CACA,mBACG,2BAAK,KAAK,CAAE,CAACC,SAAS,CAAC,GAAX,CAAeC,aAAa,CAAC,EAA7B,CAAZ,CAA8C,SAAS,CAAC,kBAAxD,eAIE,2BAAK,KAAK,CAAE,CAACC,aAAa,CAAC,KAAf,CAAZ,CAAmC,SAAS,CAAC,iBAA7C,eACV,0BAAI,KAAK,CAAE,CAACF,SAAS,CAAC,EAAX,CAAcG,SAAS,CAAC,QAAxB,CAAiCC,QAAQ,CAAC,EAA1C,CAAX,cADU,cAEV,6BAAO,QAAQ,CAAE,IAAjB,CAAwB,KAAK,CAAE,CAACC,KAAK,CAAC,GAAP,CAA/B,CAA4C,QAAQ,CAAE,MAAI,CAAC3C,YAA3D,CAAyE,IAAI,CAAC,MAA9E,CAAqF,IAAI,CAAC,OAA1F,CAAkG,SAAS,CAAC,aAA5G,EAFU,CAJF,cAWE,2BAAK,KAAK,CAAE,CAACwC,aAAa,CAAC,KAAf,CAAZ,CAAmC,SAAS,CAAC,iBAA7C,eACV,0BAAI,KAAK,CAAE,CAACF,SAAS,CAAC,EAAX,CAAcG,SAAS,CAAC,QAAxB,CAAiCC,QAAQ,CAAC,EAA1C,CAAX,eADU,cAEV,6BAAO,QAAQ,CAAE,IAAjB,CAAuB,GAAG,CAAE,aAACE,IAAD,CAAO,CAAC,MAAI,CAAC/C,GAAL,CAAS+C,IAAT,CAAc,CAAlD,CAAsD,KAAK,CAAE,CAACD,KAAK,CAAC,GAAP,CAA7D,CAA0E,QAAQ,CAAE,MAAI,CAACjD,UAAzF,CAAqG,IAAI,CAAC,MAA1G,CAAiH,IAAI,CAAC,YAAtH,CAAmI,SAAS,CAAC,YAA7I,EAFU,CAXF,cAgBC,2BAAK,SAAS,CAAC,iBAAf,eACA,6BAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,MAA3B,CAAkC,OAAO,CAAE,yBAAI,CAAA,MAAI,CAACmD,MAAL,CAAYR,CAAC,CAACjC,EAAd,CAAJ,EAA3C,CAAkE,KAAK,CAAE,CAACuC,KAAK,CAAC,GAAP,CAAzE,CAAsF,SAAS,CAAC,YAAhG,EADA,CAhBD,CADH,CAyBH,CA3BD,CAFG,CADJ,CAkCP,C,oBAtJmBpD,KAAK,CAACuD,S,EA4J3B,cAAetD,CAAAA,MAAf","sourcesContent":["import React from 'react';\nimport './Addpdf.css';\n\n\nclass AddPdf extends React.Component{\n    constructor(props){\n        super(props);\n        this.state={\n            course:[],\n            pdf:\"\",\n            title:\"\"\n        }\n    }\n\n\n    componentDidMount(){\n        /*For fetching videos under a particular course\n        So the the courses.id is grabbed from the course\n        */\n         fetch(`http://127.0.0.1:5000/add_pdf/${this.props.match.params.id}`,\n \n   {\n     method:\"GET\",\n \n    \n }\n )\n .then(res=>res.json())\n .then(data=>{\n     this.setState({\n        course:data.course\n     })\n \n    \n })\n .catch(err=>console.log(err))\n     }\n \n \n \n     \n  //For adding a topic or a video for a specific course   \n \n     pdfhandler=(e)=>{\n         this.setState({\n             pdf:e.target.files[0]\n         })\n     }\n \n     titlehandler=(e)=>{\n         this.setState({\n             title:e.target.value\n         })\n     }\n \n     addpdf(id){\n         const data=new FormData();\n         data.append(\"pdf\",this.state.pdf)\n         data.append(\"title\",this.state.title)\n \n         fetch(`http://127.0.0.1:5000/add_pdf/${id}`,\n         {\n             method:\"POST\",\n             body:data,\n             headers:{\n              Authorization: `${localStorage.getItem(\"instructor_token\")}`\n          },\n         }\n \n         )\n         .then(res=>res.json())\n         .then(data=>{\n             alert(\"PDF uploaded\")\n          })\n         .catch(err=>{\n             console.log(err)\n         })\n     }\n \n \n \n \n \n     deletevideo=(id)=>{\n      \n      fetch(`http://127.0.0.1:5000/videos_delete/${id}`,\n     \n  \n      {\n          method:\"DELETE\"\n      }\n      )\n      .then(res=>res.json())\n      .then(data=>{\n          console.log(data.message)\n          let postlist=this.state.post_comments\n          for(let i=0;i<postlist.length;i++){\n              let p=postlist[i]\n              if(p._id===id){\n                  postlist.splice(i,1)\n                  break\n              }\n          }\n          this.setState({post:postlist})\n      })\n      .catch(err=>{console.log(err)})\n      \n  \n  \n  }\n  \n  \n \n \n \n \n \n \n \n     render(){\n         return(\n             <div  className=\"row add-pdf-background\">\n        {\n          this.state.course.map(t=>{\n              const id={t}\n              return(\n                 <div style={{marginTop:100,paddingBottom:30}} className=\" form-container \">\n                   \n \n            \n                   <div style={{flexDirection:\"row\"}} className=\"col text-center\">\n         <h3 style={{marginTop:10,textAlign:\"center\",fontSize:20}}>PDF Title</h3>\n         <input required={true}  style={{width:200}} onChange={this.titlehandler} type=\"text\" name=\"title\" className=\"courseinput\"/>\n         </div>\n\n\n    \n                   <div style={{flexDirection:\"row\"}} className=\"col text-center\">\n         <h3 style={{marginTop:10,textAlign:\"center\",fontSize:20}}>Course PDF</h3>\n         <input required={true} ref={(ref)=>{this.pdf=ref;}}   style={{width:200}} onChange={this.pdfhandler} type=\"file\" name=\"post_media\" className=\"inputfile3\"/>\n         </div>\n         \n                  <div className=\"col text-center\">\n                  <input type=\"submit\" value='Post' onClick={()=>this.addpdf(t.id)} style={{width:200}} className=\"formbutton\"/>\n                  </div>\n                  </div>\n                 \n              )\n \n              \n          })\n        }\n     </div>\n         )\n }\n \n\n\n}\n\nexport default AddPdf;\n\n\n"]},"metadata":{},"sourceType":"module"}