{"ast":null,"code":"var _jsxFileName = \"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/HEY/Instructor_Teacher_Frontend/wap/src/AddVideo.js\";\nimport React from 'react';\nimport './Addvideo.css';\n\nclass AddVideo extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.videohandler = e => {\n      this.setState({\n        video: e.target.files[0]\n      });\n    };\n\n    this.videocoverphotohandler = e => {\n      this.setState({\n        coverphoto: e.target.files[0]\n      });\n    };\n\n    this.titlehandler = e => {\n      this.setState({\n        title: e.target.value\n      });\n    };\n\n    this.deletevideo = id => {\n      fetch(`http://127.0.0.1:5000/videos_delete/${id}`, {\n        method: \"DELETE\"\n      }).then(res => res.json()).then(data => {\n        console.log(data.message);\n        let postlist = this.state.post_comments;\n\n        for (let i = 0; i < postlist.length; i++) {\n          let p = postlist[i];\n\n          if (p._id === id) {\n            postlist.splice(i, 1);\n            break;\n          }\n        }\n\n        this.setState({\n          post: postlist\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.state = {\n      course: [],\n      video: \"\",\n      title: \"\",\n      coverphoto: \"\"\n    };\n  }\n\n  componentDidMount() {\n    /*For fetching videos under a particular course\n    So the the courses.id is grabbed from the course\n    */\n    fetch(`http://127.0.0.1:5000/add_video/${this.props.match.params.id}`, {\n      method: \"GET\"\n    }).then(res => res.json()).then(data => {\n      this.setState({\n        course: data.course\n      });\n    }).catch(err => console.log(err));\n  } //For adding a topic or a video for a specific course   \n\n\n  addvideo(id) {\n    const data = new FormData();\n    data.append(\"video\", this.state.video);\n    data.append(\"coverphoto\", this.state.coverphoto);\n    data.append(\"title\", this.state.title);\n    fetch(`http://127.0.0.1:5000/add_video/${id}`, {\n      method: \"POST\",\n      body: data,\n      headers: {\n        Authorization: `${localStorage.getItem(\"token\")}`\n      }\n    }).then(res => res.json()).then(data => {\n      alert(\"Video uploaded\");\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row add-pdf-background\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 14\n      }\n    }, this.state.course.map(t => {\n      const id = {\n        t\n      };\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          marginTop: 100,\n          paddingBottom: 30\n        },\n        className: \"form-container \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 18\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          flexDirection: \"row\"\n        },\n        className: \"col text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 20\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        style: {\n          marginTop: 10,\n          textAlign: \"center\",\n          fontSize: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 10\n        }\n      }, \"Video title/topic\"), /*#__PURE__*/React.createElement(\"input\", {\n        style: {\n          width: 200\n        },\n        onChange: this.titlehandler,\n        type: \"text\",\n        name: \"title\",\n        className: \"courseinput\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 10\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          flexDirection: \"row\"\n        },\n        className: \"col text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 20\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        style: {\n          marginTop: 10,\n          textAlign: \"center\",\n          fontSize: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 10\n        }\n      }, \"Course Video\"), /*#__PURE__*/React.createElement(\"input\", {\n        ref: ref => {\n          this.post_media = ref;\n        },\n        style: {\n          width: 200\n        },\n        onChange: this.videohandler,\n        type: \"file\",\n        name: \"post_media\",\n        className: \"inputfile2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 10\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          flexDirection: \"row\"\n        },\n        className: \"col text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 10\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        style: {\n          marginTop: 10,\n          textAlign: \"center\",\n          fontSize: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 10\n        }\n      }, \"Video Coverphoto\"), /*#__PURE__*/React.createElement(\"input\", {\n        ref: ref => {\n          this.post_media = ref;\n        },\n        style: {\n          width: 200\n        },\n        onChange: this.videocoverphotohandler,\n        type: \"file\",\n        name: \"post_media\",\n        className: \"inputfile1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 10\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Post\",\n        onClick: () => this.addvideo(t.id),\n        style: {\n          width: 200\n        },\n        className: \"formbutton\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 19\n        }\n      })));\n    }));\n  }\n\n}\n\nexport default AddVideo;","map":{"version":3,"sources":["/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/HEY/Instructor_Teacher_Frontend/wap/src/AddVideo.js"],"names":["React","AddVideo","Component","constructor","props","videohandler","e","setState","video","target","files","videocoverphotohandler","coverphoto","titlehandler","title","value","deletevideo","id","fetch","method","then","res","json","data","console","log","message","postlist","state","post_comments","i","length","p","_id","splice","post","catch","err","course","componentDidMount","match","params","addvideo","FormData","append","body","headers","Authorization","localStorage","getItem","alert","render","map","t","marginTop","paddingBottom","flexDirection","textAlign","fontSize","width","ref","post_media"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './Addvideo.css';\n\n\nclass AddVideo extends React.Component{\n    constructor(props){\n        super(props);\n        this.state={\n            course:[],\n            video:\"\",\n            title:\"\",\n            coverphoto:\"\"\n        }\n    }\n\n\n    componentDidMount(){\n        /*For fetching videos under a particular course\n        So the the courses.id is grabbed from the course\n        */\n         fetch(`http://127.0.0.1:5000/add_video/${this.props.match.params.id}`,\n \n   {\n     method:\"GET\",\n \n    \n }\n )\n .then(res=>res.json())\n .then(data=>{\n     this.setState({\n        course:data.course\n     })\n \n    \n })\n .catch(err=>console.log(err))\n     }\n \n \n \n     \n  //For adding a topic or a video for a specific course   \n \n     videohandler=(e)=>{\n         this.setState({\n             video:e.target.files[0]\n         })\n     }\n\n     videocoverphotohandler=(e)=>{\n         this.setState({\n             coverphoto:e.target.files[0]\n         })\n     }\n \n     titlehandler=(e)=>{\n         this.setState({\n             title:e.target.value\n         })\n     }\n \n     addvideo(id){\n         const data=new FormData();\n         data.append(\"video\",this.state.video)\n         data.append(\"coverphoto\",this.state.coverphoto)\n         data.append(\"title\",this.state.title)\n \n         fetch(`http://127.0.0.1:5000/add_video/${id}`,\n         {\n             method:\"POST\",\n             body:data,\n             headers:{\n              Authorization: `${localStorage.getItem(\"token\")}`\n          },\n         }\n \n         )\n         .then(res=>res.json())\n         .then(data=>{\n             alert(\"Video uploaded\")\n          })\n         .catch(err=>{\n             console.log(err)\n         })\n     }\n \n \n \n \n \n     deletevideo=(id)=>{\n      \n      fetch(`http://127.0.0.1:5000/videos_delete/${id}`,\n     \n  \n      {\n          method:\"DELETE\"\n      }\n      )\n      .then(res=>res.json())\n      .then(data=>{\n          console.log(data.message)\n          let postlist=this.state.post_comments\n          for(let i=0;i<postlist.length;i++){\n              let p=postlist[i]\n              if(p._id===id){\n                  postlist.splice(i,1)\n                  break\n              }\n          }\n          this.setState({post:postlist})\n      })\n      .catch(err=>{console.log(err)})\n      \n  \n  \n  }\n  \n  \n \n \n \n \n \n \n \n     render(){\n         return(\n             <div className=\"row add-pdf-background\">\n        {\n          this.state.course.map(t=>{\n              const id={t}\n              return(\n                 <div style={{marginTop:100,paddingBottom:30}} className=\"form-container \">\n                   \n \n \n                   <div style={{flexDirection:\"row\"}} className=\"col text-center\">\n         <h3 style={{marginTop:10,textAlign:\"center\",fontSize:20}}>Video title/topic</h3>\n         <input   style={{width:200}} onChange={this.titlehandler} type=\"text\" name=\"title\" className=\"courseinput\"/>\n         </div>\n                   \n                   <div style={{flexDirection:\"row\"}} className=\"col text-center\">\n         <h3 style={{marginTop:10,textAlign:\"center\",fontSize:20}}>Course Video</h3>\n         <input ref={(ref)=>{this.post_media=ref;}}   style={{width:200}} onChange={this.videohandler} type=\"file\" name=\"post_media\" className=\"inputfile2\"/>\n         </div>\n         \n\n         <div style={{flexDirection:\"row\"}} className=\"col text-center\">\n         <h3 style={{marginTop:10,textAlign:\"center\",fontSize:20}}>Video Coverphoto</h3>\n         <input ref={(ref)=>{this.post_media=ref;}}   style={{width:200}} onChange={this.videocoverphotohandler} type=\"file\" name=\"post_media\" className=\"inputfile1\"/>\n         </div>\n\n\n\n                  <div className=\"col text-center\">\n                  <input type=\"submit\" value='Post' onClick={()=>this.addvideo(t.id)} style={{width:200}} className=\"formbutton\"/>\n                  </div>\n                  </div>\n                 \n              )\n \n              \n          })\n        }\n     </div>\n         )\n }\n \n\n\n}\n\nexport default AddVideo;\n\n\n"]},"metadata":{},"sourceType":"module"}