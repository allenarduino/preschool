{"ast":null,"code":"import _classCallCheck from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Instructor_Teacher_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Instructor_Teacher_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Instructor_Teacher_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Instructor_Teacher_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./Addvideo.css';var AddVideo=/*#__PURE__*/function(_React$Component){_inherits(AddVideo,_React$Component);var _super=_createSuper(AddVideo);function AddVideo(props){var _this;_classCallCheck(this,AddVideo);_this=_super.call(this,props);_this.videohandler=function(e){_this.setState({video:e.target.files[0]});};_this.videocoverphotohandler=function(e){_this.setState({coverphoto:e.target.files[0]});};_this.titlehandler=function(e){_this.setState({title:e.target.value});};_this.deletevideo=function(id){fetch(\"http://127.0.0.1:5000/videos_delete/\".concat(id),{method:\"DELETE\"}).then(function(res){return res.json();}).then(function(data){console.log(data.message);var postlist=_this.state.post_comments;for(var i=0;i<postlist.length;i++){var p=postlist[i];if(p._id===id){postlist.splice(i,1);break;}}_this.setState({post:postlist});}).catch(function(err){console.log(err);});};_this.state={course:[],video:\"\",title:\"\",coverphoto:\"\"};return _this;}_createClass(AddVideo,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;/*For fetching videos under a particular course\n        So the the courses.id is grabbed from the course\n        */fetch(\"http://127.0.0.1:5000/add_video/\".concat(this.props.match.params.id),{method:\"GET\"}).then(function(res){return res.json();}).then(function(data){_this2.setState({course:data.course});}).catch(function(err){return console.log(err);});}//For adding a topic or a video for a specific course   \n},{key:\"addvideo\",value:function addvideo(id){var data=new FormData();data.append(\"video\",this.state.video);data.append(\"coverphoto\",this.state.coverphoto);data.append(\"title\",this.state.title);fetch(\"http://127.0.0.1:5000/add_video/\".concat(id),{method:\"POST\",body:data,headers:{Authorization:\"\".concat(localStorage.getItem(\"token\"))}}).then(function(res){return res.json();}).then(function(data){alert(\"Video uploaded\");}).catch(function(err){console.log(err);});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"row add-pdf-background\"},this.state.course.map(function(t){var id={t:t};return/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:100,paddingBottom:30},className:\"form-container \"},/*#__PURE__*/React.createElement(\"div\",{style:{flexDirection:\"row\"},className:\"col text-center\"},/*#__PURE__*/React.createElement(\"h3\",{style:{marginTop:10,textAlign:\"center\",fontSize:20}},\"Video title/topic\"),/*#__PURE__*/React.createElement(\"input\",{style:{width:200},onChange:_this3.titlehandler,type:\"text\",name:\"title\",className:\"courseinput\"})),/*#__PURE__*/React.createElement(\"div\",{style:{flexDirection:\"row\"},className:\"col text-center\"},/*#__PURE__*/React.createElement(\"h3\",{style:{marginTop:10,textAlign:\"center\",fontSize:20}},\"Course Video\"),/*#__PURE__*/React.createElement(\"input\",{ref:function ref(_ref){_this3.post_media=_ref;},style:{width:200},onChange:_this3.videohandler,type:\"file\",name:\"post_media\",className:\"inputfile2\"})),/*#__PURE__*/React.createElement(\"div\",{style:{flexDirection:\"row\"},className:\"col text-center\"},/*#__PURE__*/React.createElement(\"h3\",{style:{marginTop:10,textAlign:\"center\",fontSize:20}},\"Video Coverphoto\"),/*#__PURE__*/React.createElement(\"input\",{ref:function ref(_ref2){_this3.post_media=_ref2;},style:{width:200},onChange:_this3.videocoverphotohandler,type:\"file\",name:\"post_media\",className:\"inputfile1\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-center\"},/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Post\",onClick:function onClick(){return _this3.addvideo(t.id);},style:{width:200},className:\"formbutton\"})));}));}}]);return AddVideo;}(React.Component);export default AddVideo;","map":{"version":3,"sources":["/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Instructor_Teacher_Frontend/wap/src/AddVideo.js"],"names":["React","AddVideo","props","videohandler","e","setState","video","target","files","videocoverphotohandler","coverphoto","titlehandler","title","value","deletevideo","id","fetch","method","then","res","json","data","console","log","message","postlist","state","post_comments","i","length","p","_id","splice","post","catch","err","course","match","params","FormData","append","body","headers","Authorization","localStorage","getItem","alert","map","t","marginTop","paddingBottom","flexDirection","textAlign","fontSize","width","ref","post_media","addvideo","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './Addvideo.css';\n\n\nclass AddVideo extends React.Component{\n    constructor(props){\n        super(props);\n        this.state={\n            course:[],\n            video:\"\",\n            title:\"\",\n            coverphoto:\"\"\n        }\n    }\n\n\n    componentDidMount(){\n        /*For fetching videos under a particular course\n        So the the courses.id is grabbed from the course\n        */\n         fetch(`http://127.0.0.1:5000/add_video/${this.props.match.params.id}`,\n \n   {\n     method:\"GET\",\n \n    \n }\n )\n .then(res=>res.json())\n .then(data=>{\n     this.setState({\n        course:data.course\n     })\n \n    \n })\n .catch(err=>console.log(err))\n     }\n \n \n \n     \n  //For adding a topic or a video for a specific course   \n \n     videohandler=(e)=>{\n         this.setState({\n             video:e.target.files[0]\n         })\n     }\n\n     videocoverphotohandler=(e)=>{\n         this.setState({\n             coverphoto:e.target.files[0]\n         })\n     }\n \n     titlehandler=(e)=>{\n         this.setState({\n             title:e.target.value\n         })\n     }\n \n     addvideo(id){\n         const data=new FormData();\n         data.append(\"video\",this.state.video)\n         data.append(\"coverphoto\",this.state.coverphoto)\n         data.append(\"title\",this.state.title)\n \n         fetch(`http://127.0.0.1:5000/add_video/${id}`,\n         {\n             method:\"POST\",\n             body:data,\n             headers:{\n              Authorization: `${localStorage.getItem(\"token\")}`\n          },\n         }\n \n         )\n         .then(res=>res.json())\n         .then(data=>{\n             alert(\"Video uploaded\")\n          })\n         .catch(err=>{\n             console.log(err)\n         })\n     }\n \n \n \n \n \n     deletevideo=(id)=>{\n      \n      fetch(`http://127.0.0.1:5000/videos_delete/${id}`,\n     \n  \n      {\n          method:\"DELETE\"\n      }\n      )\n      .then(res=>res.json())\n      .then(data=>{\n          console.log(data.message)\n          let postlist=this.state.post_comments\n          for(let i=0;i<postlist.length;i++){\n              let p=postlist[i]\n              if(p._id===id){\n                  postlist.splice(i,1)\n                  break\n              }\n          }\n          this.setState({post:postlist})\n      })\n      .catch(err=>{console.log(err)})\n      \n  \n  \n  }\n  \n  \n \n \n \n \n \n \n \n     render(){\n         return(\n             <div className=\"row add-pdf-background\">\n        {\n          this.state.course.map(t=>{\n              const id={t}\n              return(\n                 <div style={{marginTop:100,paddingBottom:30}} className=\"form-container \">\n                   \n \n \n                   <div style={{flexDirection:\"row\"}} className=\"col text-center\">\n         <h3 style={{marginTop:10,textAlign:\"center\",fontSize:20}}>Video title/topic</h3>\n         <input   style={{width:200}} onChange={this.titlehandler} type=\"text\" name=\"title\" className=\"courseinput\"/>\n         </div>\n                   \n                   <div style={{flexDirection:\"row\"}} className=\"col text-center\">\n         <h3 style={{marginTop:10,textAlign:\"center\",fontSize:20}}>Course Video</h3>\n         <input ref={(ref)=>{this.post_media=ref;}}   style={{width:200}} onChange={this.videohandler} type=\"file\" name=\"post_media\" className=\"inputfile2\"/>\n         </div>\n         \n\n         <div style={{flexDirection:\"row\"}} className=\"col text-center\">\n         <h3 style={{marginTop:10,textAlign:\"center\",fontSize:20}}>Video Coverphoto</h3>\n         <input ref={(ref)=>{this.post_media=ref;}}   style={{width:200}} onChange={this.videocoverphotohandler} type=\"file\" name=\"post_media\" className=\"inputfile1\"/>\n         </div>\n\n\n\n                  <div className=\"col text-center\">\n                  <input type=\"submit\" value='Post' onClick={()=>this.addvideo(t.id)} style={{width:200}} className=\"formbutton\"/>\n                  </div>\n                  </div>\n                 \n              )\n \n              \n          })\n        }\n     </div>\n         )\n }\n \n\n\n}\n\nexport default AddVideo;\n\n\n"]},"metadata":{},"sourceType":"module"}