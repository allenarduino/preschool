{"ast":null,"code":"var _jsxFileName = \"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Instructor_Teacher_Frontend/wap/src/AddPdf.js\";\nimport React from 'react';\nimport './Addpdf.css';\n\nclass AddPdf extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.pdfhandler = e => {\n      this.setState({\n        pdf: e.target.files[0]\n      });\n    };\n\n    this.titlehandler = e => {\n      this.setState({\n        title: e.target.value\n      });\n    };\n\n    this.deletevideo = id => {\n      fetch(`http://127.0.0.1:5000/videos_delete/${id}`, {\n        method: \"DELETE\"\n      }).then(res => res.json()).then(data => {\n        console.log(data.message);\n        let postlist = this.state.post_comments;\n\n        for (let i = 0; i < postlist.length; i++) {\n          let p = postlist[i];\n\n          if (p._id === id) {\n            postlist.splice(i, 1);\n            break;\n          }\n        }\n\n        this.setState({\n          post: postlist\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.state = {\n      course: [],\n      pdf: \"\",\n      title: \"\"\n    };\n  }\n\n  componentDidMount() {\n    /*For fetching videos under a particular course\n    So the the courses.id is grabbed from the course\n    */\n    fetch(`http://127.0.0.1:5000/add_pdf/${this.props.match.params.id}`, {\n      method: \"GET\"\n    }).then(res => res.json()).then(data => {\n      this.setState({\n        course: data.course\n      });\n    }).catch(err => console.log(err));\n  } //For adding a topic or a video for a specific course   \n\n\n  addpdf(id) {\n    const data = new FormData();\n    data.append(\"pdf\", this.state.pdf);\n    data.append(\"title\", this.state.title);\n    fetch(`http://127.0.0.1:5000/add_pdf/${id}`, {\n      method: \"POST\",\n      body: data,\n      headers: {\n        Authorization: `${localStorage.getItem(\"instructor_token\")}`\n      }\n    }).then(res => res.json()).then(data => {\n      alert(\"PDF uploaded\");\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row add-pdf-background\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 14\n      }\n    }, this.state.course.map(t => {\n      const id = {\n        t\n      };\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          marginTop: 100,\n          paddingBottom: 30\n        },\n        className: \" form-container \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 18\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          flexDirection: \"row\"\n        },\n        className: \"col text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 20\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        style: {\n          marginTop: 10,\n          textAlign: \"center\",\n          fontSize: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 10\n        }\n      }, \"PDF Title\"), /*#__PURE__*/React.createElement(\"input\", {\n        required: true,\n        style: {\n          width: 200\n        },\n        onChange: this.titlehandler,\n        type: \"text\",\n        name: \"title\",\n        className: \"courseinput\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 10\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          flexDirection: \"row\"\n        },\n        className: \"col text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 20\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        style: {\n          marginTop: 10,\n          textAlign: \"center\",\n          fontSize: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 10\n        }\n      }, \"Course PDF\"), /*#__PURE__*/React.createElement(\"input\", {\n        required: true,\n        ref: ref => {\n          this.pdf = ref;\n        },\n        style: {\n          width: 200\n        },\n        onChange: this.pdfhandler,\n        type: \"file\",\n        name: \"post_media\",\n        className: \"inputfile3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 10\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Post\",\n        onClick: () => this.addpdf(t.id),\n        style: {\n          width: 200\n        },\n        className: \"formbutton\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 19\n        }\n      })));\n    }));\n  }\n\n}\n\nexport default AddPdf;","map":{"version":3,"sources":["/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Instructor_Teacher_Frontend/wap/src/AddPdf.js"],"names":["React","AddPdf","Component","constructor","props","pdfhandler","e","setState","pdf","target","files","titlehandler","title","value","deletevideo","id","fetch","method","then","res","json","data","console","log","message","postlist","state","post_comments","i","length","p","_id","splice","post","catch","err","course","componentDidMount","match","params","addpdf","FormData","append","body","headers","Authorization","localStorage","getItem","alert","render","map","t","marginTop","paddingBottom","flexDirection","textAlign","fontSize","width","ref"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './Addpdf.css';\n\n\nclass AddPdf extends React.Component{\n    constructor(props){\n        super(props);\n        this.state={\n            course:[],\n            pdf:\"\",\n            title:\"\"\n        }\n    }\n\n\n    componentDidMount(){\n        /*For fetching videos under a particular course\n        So the the courses.id is grabbed from the course\n        */\n         fetch(`http://127.0.0.1:5000/add_pdf/${this.props.match.params.id}`,\n \n   {\n     method:\"GET\",\n \n    \n }\n )\n .then(res=>res.json())\n .then(data=>{\n     this.setState({\n        course:data.course\n     })\n \n    \n })\n .catch(err=>console.log(err))\n     }\n \n \n \n     \n  //For adding a topic or a video for a specific course   \n \n     pdfhandler=(e)=>{\n         this.setState({\n             pdf:e.target.files[0]\n         })\n     }\n \n     titlehandler=(e)=>{\n         this.setState({\n             title:e.target.value\n         })\n     }\n \n     addpdf(id){\n         const data=new FormData();\n         data.append(\"pdf\",this.state.pdf)\n         data.append(\"title\",this.state.title)\n \n         fetch(`http://127.0.0.1:5000/add_pdf/${id}`,\n         {\n             method:\"POST\",\n             body:data,\n             headers:{\n              Authorization: `${localStorage.getItem(\"instructor_token\")}`\n          },\n         }\n \n         )\n         .then(res=>res.json())\n         .then(data=>{\n             alert(\"PDF uploaded\")\n          })\n         .catch(err=>{\n             console.log(err)\n         })\n     }\n \n \n \n \n \n     deletevideo=(id)=>{\n      \n      fetch(`http://127.0.0.1:5000/videos_delete/${id}`,\n     \n  \n      {\n          method:\"DELETE\"\n      }\n      )\n      .then(res=>res.json())\n      .then(data=>{\n          console.log(data.message)\n          let postlist=this.state.post_comments\n          for(let i=0;i<postlist.length;i++){\n              let p=postlist[i]\n              if(p._id===id){\n                  postlist.splice(i,1)\n                  break\n              }\n          }\n          this.setState({post:postlist})\n      })\n      .catch(err=>{console.log(err)})\n      \n  \n  \n  }\n  \n  \n \n \n \n \n \n \n \n     render(){\n         return(\n             <div  className=\"row add-pdf-background\">\n        {\n          this.state.course.map(t=>{\n              const id={t}\n              return(\n                 <div style={{marginTop:100,paddingBottom:30}} className=\" form-container \">\n                   \n \n            \n                   <div style={{flexDirection:\"row\"}} className=\"col text-center\">\n         <h3 style={{marginTop:10,textAlign:\"center\",fontSize:20}}>PDF Title</h3>\n         <input required={true}  style={{width:200}} onChange={this.titlehandler} type=\"text\" name=\"title\" className=\"courseinput\"/>\n         </div>\n\n\n    \n                   <div style={{flexDirection:\"row\"}} className=\"col text-center\">\n         <h3 style={{marginTop:10,textAlign:\"center\",fontSize:20}}>Course PDF</h3>\n         <input required={true} ref={(ref)=>{this.pdf=ref;}}   style={{width:200}} onChange={this.pdfhandler} type=\"file\" name=\"post_media\" className=\"inputfile3\"/>\n         </div>\n         \n                  <div className=\"col text-center\">\n                  <input type=\"submit\" value='Post' onClick={()=>this.addpdf(t.id)} style={{width:200}} className=\"formbutton\"/>\n                  </div>\n                  </div>\n                 \n              )\n \n              \n          })\n        }\n     </div>\n         )\n }\n \n\n\n}\n\nexport default AddPdf;\n\n\n"]},"metadata":{},"sourceType":"module"}