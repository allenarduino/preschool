{"ast":null,"code":"import _classCallCheck from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Student_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Student_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Student_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Student_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./ViewCourse.css';import{Link}from'react-router-dom';var ViewCourse=/*#__PURE__*/function(_React$Component){_inherits(ViewCourse,_React$Component);var _super=_createSuper(ViewCourse);function ViewCourse(props){var _this;_classCallCheck(this,ViewCourse);_this=_super.call(this,props);_this.enroll=function(id){fetch(\"http://127.0.0.1:5000/enroll/\".concat(id),{method:\"POST\",headers:{Authorization:\"\".concat(localStorage.getItem(\"student_token\"))}}).then(function(res){return res.json();}).then(function(data){if(data.message==null){alert(data);}else{_this.setState({appeared_message:true});}});};_this.state={description:[],appeared_message:false};return _this;}_createClass(ViewCourse,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"http://127.0.0.1:5000/view_course/\".concat(this.props.match.params.id),{method:\"GET\",\"Content-Type\":\"application/json\"}).then(function(res){return res.json();}).then(function(data){_this2.setState({description:data});}).catch(function(err){return console.log(err);});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},this.state.description.map(function(t){return/*#__PURE__*/React.createElement(\"div\",{className:\"profile-background\"},/*#__PURE__*/React.createElement(\"div\",{className:\" col-lg-7 col-xs-10 col-xl-7  col-sm-10 col-md-10 course-description-header col text-center\"},/*#__PURE__*/React.createElement(\"h3\",{style:{fontSize:20}},\"Course Description:\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-7 col-xs-10 col-xl-7  col-sm-10 col-md-10 course-description-container col text-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col text-center\"},/*#__PURE__*/React.createElement(\"h1\",{style:{color:\"black\"},className:\"name\"},t.name),/*#__PURE__*/React.createElement(\"h3\",{style:{fontSize:17}},t.description),localStorage.getItem(\"student_token\")?_this3.state.appeared_message==false?/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this3.enroll(t.id);},style:{marginTop:30},className:\"enroll\"},\"Enroll\"):/*#__PURE__*/React.createElement(\"div\",{className:\"alert-message col text-center\"},\"You have already enrolled in this course. Please click\",/*#__PURE__*/React.createElement(\"b\",null,/*#__PURE__*/React.createElement(Link,{className:\"access-link\",to:\"/viewcourse/singlecourse/\".concat(t.id)},\"here\"),\" to acess it\")):/*#__PURE__*/React.createElement(Link,{to:\"/studentlogin\"},/*#__PURE__*/React.createElement(\"button\",{style:{marginTop:30},className:\"enroll\"},\"Enroll\")))),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:70},className:\"col text-center col-lg-7 col-xs-10 col-xl-7  col-sm-10 col-md-10 course-description-header col text-center\"},/*#__PURE__*/React.createElement(\"h3\",{style:{fontSize:20}},\"Instructor:\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-7  col-xs-10 col-xl-7  col-sm-10 col-md-10 course-description-profile-container col text-center \"},/*#__PURE__*/React.createElement(\"img\",{src:\"http://127.0.0.1:5000\".concat(t.instructor_img),className:\"avatar\"}),/*#__PURE__*/React.createElement(\"h1\",{style:{color:\"black\"},className:\"name\"},t.instructor_name),/*#__PURE__*/React.createElement(\"h3\",{style:{fontSize:17}},t.bio)));}));}}]);return ViewCourse;}(React.Component);export default ViewCourse;","map":{"version":3,"sources":["/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Student_Frontend/wap/src/ViewCourse.js"],"names":["React","Link","ViewCourse","props","enroll","id","fetch","method","headers","Authorization","localStorage","getItem","then","res","json","data","message","alert","setState","appeared_message","state","description","match","params","catch","err","console","log","map","t","fontSize","color","name","marginTop","instructor_img","instructor_name","bio","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './ViewCourse.css';\nimport {Link} from 'react-router-dom';\n\nclass ViewCourse extends React.Component{\n    constructor(props){\n        super(props);\n        this.state={\n            description:[],\n            appeared_message:false\n            \n        }\n    }\n\n\n    \n   \n\n\n\n\n\n\n    componentDidMount(){\n        fetch(`http://127.0.0.1:5000/view_course/${this.props.match.params.id}`,\n        {\n            method:\"GET\",\n            \"Content-Type\":\"application/json\"\n        }\n        )\n        .then(res=>res.json())\n        .then(data=>{\n            this.setState({\n                description:data\n            })\n        })\n        .catch(err=>console.log(err))\n    }\n\n\n    enroll=(id)=>{\n        fetch(`http://127.0.0.1:5000/enroll/${id}`,\n        {\n            method:\"POST\",\n            headers:{\n                Authorization:`${localStorage.getItem(\"student_token\")}`\n            }\n\n        }\n        )\n        .then(res=>res.json())\n        .then(data=>{\n            if (data.message==null){\n                alert(data)\n            }\n            else{\n                   this.setState({\n                       appeared_message:true\n                   })\n                  \n            }\n           \n        })\n       \n\n       \n\n    }\n\n\n\n\n\n\n\n   \n    render(){\n        return(\n        \n            <div className=\"row\">\n{\nthis.state.description.map(t=>\n   \n        <div className=\"profile-background\">\n    \n        {/**********************Container for course description ***************/}\n        <div  className=\" col-lg-7 col-xs-10 col-xl-7  col-sm-10 col-md-10 course-description-header col text-center\"><h3 style={{fontSize:20}}>Course Description:</h3></div>\n    <div  className=\"col-lg-7 col-xs-10 col-xl-7  col-sm-10 col-md-10 course-description-container col text-center\"> \n    <div className=\"col text-center\">\n                        \n       {/*Here we have two conditional UI to display\n       If a student has already enrolled in a course and he presses the \n       enroll button, we throw an alert message telling him he's already \n       enrolled \n       */}\n\n\n      <h1  style={{color:\"black\"}}  className=\"name\">{t.name}</h1> \n      <h3  style={{fontSize:17}}>{t.description}</h3>\n      {/***********************If the student is not loggedin, \n    we send him to the login page before enrollment */}\n      {localStorage.getItem(\"student_token\")?\n    this.state.appeared_message==false?<button onClick={()=>this.enroll(t.id)} style={{marginTop:30}} className=\"enroll\">Enroll</button>:\n     <div className=\"alert-message col text-center\">\n         You have already enrolled in this course. Please click \n         <b><Link className=\"access-link\" to={`/viewcourse/singlecourse/${t.id}`}>here</Link> to acess it</b>  \n            \n         </div>\n     \n    :<Link to=\"/studentlogin\"><button  style={{marginTop:30}} className=\"enroll\">Enroll</button></Link>}\n        </div>\n        </div>\n\n\n\n{/******************To show instructor or the author of the course**************** */}\n <div style={{marginTop:70}} className=\"col text-center col-lg-7 col-xs-10 col-xl-7  col-sm-10 col-md-10 course-description-header col text-center\"><h3 style={{fontSize:20}}>Instructor:</h3></div>\n<div  className=\"col-lg-7  col-xs-10 col-xl-7  col-sm-10 col-md-10 course-description-profile-container col text-center \"> \n\n                    \n    <img src={`http://127.0.0.1:5000${t.instructor_img}`} className=\"avatar\"/>\n  <h1 style={{color:\"black\"}} className=\"name\">{t.instructor_name}</h1> \n  <h3 style={{fontSize:17}}>{t.bio}</h3>\n    \n    \n    </div>\n\n</div>     \n\n    )\n} \n\n</div>\n        \n)\n    }\n\n\n\n}\n\nexport default  ViewCourse;"]},"metadata":{},"sourceType":"module"}