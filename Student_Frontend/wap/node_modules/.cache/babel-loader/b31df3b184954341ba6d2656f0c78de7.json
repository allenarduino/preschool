{"ast":null,"code":"import _defineProperty from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Student_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Student_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Student_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Student_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Student_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./Signup.css';import{Link}from'react-router-dom';//I'm using this for email validation\nvar validEmailRegex=RegExp(/^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i);//function to validate the form\nvar validateForm=function validateForm(errors){var valid=true;Object.values(errors).forEach(//If we have an error string entered by the user,set valid to false\nfunction(val){return val.length>0&&(valid=false);});return valid;};var StudentSignup=/*#__PURE__*/function(_React$Component){_inherits(StudentSignup,_React$Component);var _super=_createSuper(StudentSignup);function StudentSignup(props){var _this;_classCallCheck(this,StudentSignup);_this=_super.call(this,props);_this.handleinput=function(e){e.preventDefault();var name=e.target.name;var value=e.target.value;var errors=_this.state.errors;/*I'm using switch \n        statement here because\n         I want to avoid multiple\n        if else statements*/switch(name){case\"fullname\":errors.fullname=value.length<6?'Full Name must not be less than 6 characters':'';break;//Here,I'm testing email pattern\ncase'email':errors.email=validEmailRegex.test(value)?'':'Email is not valid!';break;case'password':errors.password=value.length<8?'Password must be at least 8 characters long!':'';break;default:break;}_this.setState(_defineProperty({errors:errors},name,value),function(){//So that I can see the result in the conssole\nconsole.log(errors);});};_this.signup=function(e){e.preventDefault();if(validateForm(_this.state.errors)){console.log(\"Form is not valid\");_this.setState({loading:true});fetch(\" http://127.0.0.1:5000/student_signup\",{method:\"POST\",body:JSON.stringify(_this.state),headers:{'Content-type':'application/json'}}).then(function(res){return res.json();}).then(function(data){_this.setState({loading:false});if(data.error==null){alert(data.message);_this.props.history.push(\"StudentLogin\");}else{_this.setState({error:data.error});}}).catch(function(err){alert(err);});}else{_this.setState({k:\"Invalid Form\"});}};_this.state={fullname:\"\",email:\"\",password:\"\",error:\"\",//error message from the server\nmessage:\"\",k:\"\",//This will throw an error message if the user submits an empty form\nerrors:{//Error from client due to user inputs\nname:\"\",email:\"\",password:\"\",fullname:\"\"},loading:false};return _this;}_createClass(StudentSignup,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"bg\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-container \"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.signup,className:\"form-group\"},/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"red\",fontSize:15}},this.state.k),/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"grey\",fontSize:20}},\"Signup for Wap\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",onChange:this.handleinput,className:\" forminput\",placeholder:\"Full name\",name:\"fullname\",required:\"true\",value:this.state.fullname}),this.state.errors.fullname.length>0&&/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"red\",fontSize:15}},this.state.errors.fullname),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",onChange:this.handleinput,className:\" forminput\",placeholder:\"Email\",name:\"email\",required:\"true\",value:this.state.email}),/*#__PURE__*/React.createElement(\"h3\",{style:{fontSize:15,color:\"red\"}},this.state.error),this.state.errors.email.length>0&&/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"red\",fontSize:15}},this.state.errors.email),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",onChange:this.handleinput,className:\" forminput\",placeholder:\"Password\",name:\"password\",required:\"true\",value:this.state.password}),this.state.errors.password.length>0&&/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"red\",fontSize:15}},this.state.errors.password),this.state.loading==false?/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",className:\"formbutton\",value:\"Signup\"}):/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",className:\"formbutton\",value:\"Sending...\"}),/*#__PURE__*/React.createElement(\"h3\",{style:{fontSize:15}},\"Already have an account?\",/*#__PURE__*/React.createElement(Link,{to:\"/studentlogin\"},/*#__PURE__*/React.createElement(\"a\",{style:{fontSize:15,color:\"rgb(184, 23, 103)\"}},\"Login\")))))));}}]);return StudentSignup;}(React.Component);export default StudentSignup;","map":{"version":3,"sources":["/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Student_Frontend/wap/src/StudentSignup.js"],"names":["React","Link","validEmailRegex","RegExp","validateForm","errors","valid","Object","values","forEach","val","length","StudentSignup","props","handleinput","e","preventDefault","name","target","value","state","fullname","email","test","password","setState","console","log","signup","loading","fetch","method","body","JSON","stringify","headers","then","res","json","data","error","alert","message","history","push","catch","err","k","color","fontSize","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './Signup.css';\nimport {Link} from 'react-router-dom';\n\n\n//I'm using this for email validation\nconst validEmailRegex= \nRegExp(/^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i);\n\n\n//function to validate the form\nconst validateForm=(errors)=>{\n    let valid=true;\n    Object.values(errors).forEach(\n        //If we have an error string entered by the user,set valid to false\n        (val)=>val.length>0&&(valid=false)\n    );\n    return valid;\n}\n\n\n\n\n\nclass StudentSignup extends React.Component{\n\n\n\n    constructor(props){\n        super(props);\n        this.state={\n            fullname:\"\",\n            email:\"\",\n            password:\"\",\n            error:\"\",//error message from the server\n            message:\"\",\n            k:\"\",//This will throw an error message if the user submits an empty form\n            errors:{//Error from client due to user inputs\n             name:\"\",\n             email:\"\",\n             password:\"\",\n             fullname:\"\"\n            },\n            loading:false\n            \n        }\n    }\n\n\n\n\n    handleinput=(e)=>{\n        e.preventDefault();\n        let name=e.target.name;\n        let value=e.target.value;\n        let errors =this.state.errors;\n        \n        /*I'm using switch \n        statement here because\n         I want to avoid multiple\n        if else statements*/\n\n        switch(name){\n            case \"fullname\":\n                errors.fullname=value.length<6\n                ?'Full Name must not be less than 6 characters':'';\n                break;\n                //Here,I'm testing email pattern\n            case 'email': \n                errors.email = \n                  validEmailRegex.test(value)\n                    ? ''\n                    : 'Email is not valid!';\n                break; \n                \n            case 'password': \n             errors.password = \n              value.length < 8\n               ? 'Password must be at least 8 characters long!'\n               : '';\n            break;\n         default:\n         break;\n        }\n\n        this.setState({errors, [name]: value}, ()=> {\n            //So that I can see the result in the conssole\n            console.log(errors)\n        })\n\n    }\n\n\n\n\n\n    signup=(e)=>{\n        e.preventDefault();\n       \n       \n        if(validateForm(this.state.errors)){\n            console.log(\"Form is not valid\")\n           \n\n          this.setState({\n              loading:true\n          })\n\n\n        fetch(\" http://127.0.0.1:5000/student_signup\",{\n            method:\"POST\",\n            body:JSON.stringify(this.state),\n            headers:{\n                'Content-type':'application/json'\n            }\n        })\n        .then(res=>res.json())\n        .then(data=>{\n            this.setState({\n                loading:false\n            })\n            \n            if (data.error==null){\n                alert(data.message);\n                this.props.history.push(\"StudentLogin\")\n              \n            }\n            else{\n                this.setState({error:data.error})\n            }\n        }).catch((err)=>{alert(err)});\n        \n    }\n    else{\n        this.setState({\n            k:\"Invalid Form\"\n        })\n\n    }\n\n    }\n\n\n\n\n\n\n\n    render(){\n        return(\n            \n            <div className=\"row\">\n            <div className=\"bg\">\n          \n                  <div className=\"form-container \">\n                      <form onSubmit={this.signup} className=\"form-group\">\n                      <h3 style={{color:\"red\",fontSize:15}}>{this.state.k}</h3>\n                      <h3 style={{color:\"grey\",fontSize:20}}>Signup for Wap</h3>\n                          <input type=\"text\" onChange={this.handleinput}\n                          className=\" forminput\"\n                          placeholder=\"Full name\"\n                          name=\"fullname\"\n                          required=\"true\"\n                          value={this.state.fullname}\n                          />\n                          {this.state.errors.fullname.length>0&&\n                          <h3 style={{color:\"red\",fontSize:15}}>{this.state.errors.fullname}</h3>\n                                        }\n\n                       <input type=\"text\" onChange={this.handleinput}\n                          className=\" forminput\"\n                          placeholder=\"Email\"\n                          name=\"email\"\n                          required=\"true\"\n                          value={this.state.email}\n                          />\n                            <h3 style={{fontSize:15,color:\"red\"}}>{this.state.error}</h3>\n                            {this.state.errors.email.length>0&&\n                          <h3 style={{color:\"red\",fontSize:15}}>{this.state.errors.email}</h3>\n        \n                            }\n                       \n                       <input type=\"password\" onChange={this.handleinput}\n                          className=\" forminput\"\n                          placeholder=\"Password\"\n                          name=\"password\"\n                          required=\"true\"\n                          value={this.state.password}\n                          />\n                            {this.state.errors.password.length>0&&\n                          <h3 style={{color:\"red\",fontSize:15}}>{this.state.errors.password}</h3>\n        \n                            }\n\n                          {this.state.loading==false?<input type=\"submit\" className=\"formbutton\" value=\"Signup\"/>:<input type=\"submit\" className=\"formbutton\" value=\"Sending...\"/>}\n\n                          <h3 style={{fontSize:15}}>\n                              Already have an account?\n                          <Link to=\"/studentlogin\">\n                            <a  style={{fontSize:15,color:\"rgb(184, 23, 103)\"}}>\n                              Login\n                              </a> \n                              </Link>\n                              </h3>\n                      </form>\n\n                     \n            </div>\n         </div>\n         </div>\n         \n         \n         \n        )\n    }\n}\n\nexport default StudentSignup;"]},"metadata":{},"sourceType":"module"}