{"ast":null,"code":"var _jsxFileName = \"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Student_Frontend/wap/src/StudentSignup.js\";\nimport React from 'react';\nimport './Signup.css';\nimport { Link } from 'react-router-dom'; //I'm using this for email validation\n\nconst validEmailRegex = RegExp(/^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i); //function to validate the form\n\nconst validateForm = erros => {\n  let valid = true;\n  Object.values(errors).forEach( //If we have an error string entered by the user,set valid to false\n  val => val.length > 0 && (valid = false));\n  return valid;\n};\n\nclass StudentSignup extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleinput = e => {\n      e.preventDefault();\n      let name = e.target.name;\n      let value = e.target.value;\n      let errors = this.state.errors;\n      /*I'm using switch \n      statement here because\n       I want to avoid multiple\n      if else statements*/\n\n      switch (name) {\n        case \"fullname\":\n          errors.fullName = value.length < 6 ? 'Full Name must not be less than 6 characters' : '';\n          break;\n        //Here,I'm testing email pattern\n\n        case 'email':\n          errors.email = validEmailRegex.test(value) ? '' : 'Email is not valid!';\n          break;\n\n        case 'password':\n          errors.password = value.length < 8 ? 'Password must be at least characters long!' : '';\n          break;\n\n        default:\n          break;\n      }\n\n      this.setState({\n        errors,\n        [name]: value\n      }, () => {\n        //So that I can see the result in the conssole\n        console.log(errors);\n      });\n    };\n\n    this.signup = e => {\n      e.preventDefault();\n      this.setState({\n        loading: true\n      });\n      fetch(\" http://127.0.0.1:5000/student_signup\", {\n        method: \"POST\",\n        body: JSON.stringify(this.state),\n        headers: {\n          'Content-type': 'application/json'\n        }\n      }).then(res => res.json()).then(data => {\n        this.setState({\n          loading: false\n        });\n\n        if (data.error == null) {\n          alert(data.message);\n          this.props.history.push(\"StudentLogin\");\n        } else {\n          this.setState({\n            error: data.error\n          });\n        }\n      }).catch(err => {\n        alert(err);\n      });\n    };\n\n    this.state = {\n      fullname: \"\",\n      email: \"\",\n      password: \"\",\n      error: \"\",\n      message: \"\",\n      errors: {\n        name: \"\",\n        email: \"\",\n        password: \"\",\n        fullname\n      },\n      loading: false\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-container \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.signup,\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        color: \"grey\",\n        fontSize: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 23\n      }\n    }, \"Signup for Wap\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.handleinput,\n      className: \" forminput\",\n      placeholder: \"Full name\",\n      name: \"fullname\",\n      value: this.state.fullname,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        color: \"red\",\n        fontSize: 15\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 27\n      }\n    }, errors.fullName), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.handleinput,\n      className: \" forminput\",\n      placeholder: \"Email\",\n      name: \"email\",\n      value: this.state.email,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 24\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        fontSize: 15,\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 29\n      }\n    }, this.state.error), /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        color: \"red\",\n        fontSize: 15\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 29\n      }\n    }, this.state.nameerr), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      onChange: this.handleinput,\n      className: \" forminput\",\n      placeholder: \"Password\",\n      name: \"password\",\n      value: this.state.password,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 24\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        color: \"red\",\n        fontSize: 15\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 27\n      }\n    }, this.state.passworderr), this.state.loading == false ? /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"formbutton\",\n      value: \"Signup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 54\n      }\n    }) : /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"formbutton\",\n      value: \"Sending...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 115\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        fontSize: 15\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 27\n      }\n    }, \"Already have an account?\", /*#__PURE__*/React.createElement(Link, {\n      to: \"/studentlogin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      style: {\n        fontSize: 15,\n        color: \"rgb(184, 23, 103)\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 29\n      }\n    }, \"Login\")))))));\n  }\n\n}\n\nexport default StudentSignup;","map":{"version":3,"sources":["/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Student_Frontend/wap/src/StudentSignup.js"],"names":["React","Link","validEmailRegex","RegExp","validateForm","erros","valid","Object","values","errors","forEach","val","length","StudentSignup","Component","constructor","props","handleinput","e","preventDefault","name","target","value","state","fullName","email","test","password","setState","console","log","signup","loading","fetch","method","body","JSON","stringify","headers","then","res","json","data","error","alert","message","history","push","catch","err","fullname","render","color","fontSize","nameerr","passworderr"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './Signup.css';\nimport {Link} from 'react-router-dom';\n\n\n//I'm using this for email validation\nconst validEmailRegex= \nRegExp(/^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i);\n\n\n\n//function to validate the form\nconst validateForm=(erros)=>{\n    let valid=true;\n    Object.values(errors).forEach(\n        //If we have an error string entered by the user,set valid to false\n        (val)=>val.length>0&&(valid=false)\n    );\n    return valid;\n}\n\n\nclass StudentSignup extends React.Component{\n\n\n\n    constructor(props){\n        super(props);\n        this.state={\n            fullname:\"\",\n            email:\"\",\n            password:\"\",\n            error:\"\",\n            message:\"\",\n            errors:{\n             name:\"\",\n             email:\"\",\n             password:\"\",\n             fullname\n            },\n            loading:false\n            \n        }\n    }\n\n    handleinput=(e)=>{\n        e.preventDefault();\n        let name=e.target.name;\n        let value=e.target.value;\n        let errors =this.state.errors;\n        /*I'm using switch \n        statement here because\n         I want to avoid multiple\n        if else statements*/\n\n        switch(name){\n            case \"fullname\":\n                errors.fullName=value.length<6\n                ?'Full Name must not be less than 6 characters':'';\n                break;\n                //Here,I'm testing email pattern\n            case 'email': \n                errors.email = \n                  validEmailRegex.test(value)\n                    ? ''\n                    : 'Email is not valid!';\n                break; \n                \n            case 'password': \n             errors.password = \n              value.length < 8\n               ? 'Password must be at least characters long!'\n               : '';\n            break;\n         default:\n         break;\n        }\n\n        this.setState({errors, [name]: value}, ()=> {\n            //So that I can see the result in the conssole\n            console.log(errors)\n        })\n\n    }\n\n\n\n\n\n    signup=(e)=>{\n        e.preventDefault();\n       \n       \n          this.setState({\n              loading:true\n          })\n\n\n        fetch(\" http://127.0.0.1:5000/student_signup\",{\n            method:\"POST\",\n            body:JSON.stringify(this.state),\n            headers:{\n                'Content-type':'application/json'\n            }\n        })\n        .then(res=>res.json())\n        .then(data=>{\n            this.setState({\n                loading:false\n            })\n            \n            if (data.error==null){\n                alert(data.message);\n                this.props.history.push(\"StudentLogin\")\n              \n            }\n            else{\n                this.setState({error:data.error})\n            }\n        }).catch((err)=>{alert(err)});\n        \n        \n\n    }\n\n\n\n\n\n\n\n    render(){\n        return(\n            \n            <div className=\"row\">\n            <div className=\"bg\">\n          \n                  <div className=\"form-container \">\n                      <form onSubmit={this.signup} className=\"form-group\">\n                      <h3 style={{color:\"grey\",fontSize:20}}>Signup for Wap</h3>\n                          <input type=\"text\" onChange={this.handleinput}\n                          className=\" forminput\"\n                          placeholder=\"Full name\"\n                          name=\"fullname\"\n                          value={this.state.fullname}\n                          />\n                          <h3 style={{color:\"red\",fontSize:15}}>{errors.fullName}</h3>\n\n                       <input type=\"text\" onChange={this.handleinput}\n                          className=\" forminput\"\n                          placeholder=\"Email\"\n                          name=\"email\"\n                          \n                          value={this.state.email}\n                          />\n                            <h3 style={{fontSize:15,color:\"red\"}}>{this.state.error}</h3>\n                            <h3 style={{color:\"red\",fontSize:15}}>{this.state.nameerr}</h3>\n                       \n                       <input type=\"password\" onChange={this.handleinput}\n                          className=\" forminput\"\n                          placeholder=\"Password\"\n                          name=\"password\"\n                          value={this.state.password}\n                          />\n                          <h3 style={{color:\"red\",fontSize:15}}>{this.state.passworderr}</h3>\n\n                          {this.state.loading==false?<input type=\"submit\" className=\"formbutton\" value=\"Signup\"/>:<input type=\"submit\" className=\"formbutton\" value=\"Sending...\"/>}\n\n                          <h3 style={{fontSize:15}}>\n                              Already have an account?\n                          <Link to=\"/studentlogin\">\n                            <a  style={{fontSize:15,color:\"rgb(184, 23, 103)\"}}>\n                              Login\n                              </a> \n                              </Link>\n                              </h3>\n                      </form>\n\n                     \n            </div>\n         </div>\n         </div>\n         \n         \n         \n        )\n    }\n}\n\nexport default StudentSignup;"]},"metadata":{},"sourceType":"module"}