{"ast":null,"code":"var _jsxFileName = \"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Student_Frontend/wap/src/Editprofile.js\";\nimport React from 'react';\nimport StudentLogin from './StudentLogin';\nimport './EditProfile.css';\n\nclass Editprofile extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.filechangehandler = event => {\n      this.setState({\n        student_img: event.target.files[0]\n      });\n    };\n\n    this.uploadhandler = e => {\n      e.preventDefault();\n      this.setState({\n        loading: true\n      });\n      const formData = new FormData();\n      formData.append(\"student_img\", this.state.student_img);\n      fetch(\"http://127.0.0.1:5000/student_update_profile_img\", {\n        method: \"POST\",\n        body: formData,\n        headers: {\n          Authorization: `${localStorage.getItem(\"student_token\")}`\n        }\n      }).then(res => {\n        alert(\"Profile photo updated\");\n        this.setState({\n          loading: false\n        });\n      }).catch(err => {\n        alert(err);\n      });\n    };\n\n    this.biohandler = e => {\n      this.setState({\n        bio: e.target.value\n      });\n    };\n\n    this.submitbio = e => {\n      e.preventDefault();\n      fetch(\"http://127.0.0.1:5000/student_update_bio\", {\n        method: \"POST\",\n        body: JSON.stringify(this.state.bio),\n        \"Content-type\": \"application/json\",\n        headers: {\n          Authorization: `${localStorage.getItem(\"student_token\")}`\n        }\n      }).then(res => res.json()).then(data => {\n        alert(data.message);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.namehandler = e => {\n      this.setState({\n        name: e.target.value\n      });\n    };\n\n    this.submitname = e => {\n      e.preventDefault();\n      /*I'm checking to see wether the bio is empty or not\n      If it's  empty, we throw error message*/\n\n      if (this.state.name.trim() == \"\") {\n        this.setState({\n          nameerr: \"Name Required\"\n        });\n      } else {\n        //Otherwise we send data to the server for processing\n        fetch(\"http://127.0.0.1:5000/student_update_name\", {\n          method: \"POST\",\n          \"Content-Type\": \"Application/json\",\n          body: JSON.stringify(this.state.name),\n          headers: {\n            Authorization: `${localStorage.getItem(\"student_token\")}`\n          }\n        }).then(res => res.json()).then(data => {\n          alert(data.message);\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n    };\n\n    this.state = {\n      name: \"\",\n      student_img: null,\n      nameerr: \"\",\n      imgerr: \"\",\n      loading: false\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        flexDirection: \"row\"\n      },\n      className: \"col text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        marginTop: 100,\n        textAlign: \"center\",\n        fontSize: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 11\n      }\n    }, \"Update profile picture\"), /*#__PURE__*/React.createElement(\"input\", {\n      required: \"required\",\n      onChange: this.filechangehandler,\n      type: \"file\",\n      name: \"instructor_img\",\n      className: \"inputfile1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 11\n      }\n    }), this.state.loading == false ? /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.uploadhandler,\n      className: \"upload-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 38\n      }\n    }, \"Upload\") : /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.uploadhandler,\n      className: \"upload-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }\n    }, \"Uploading....\"), /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        color: \"red\",\n        fontSize: 18\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 11\n      }\n    }, this.state.imgerr)), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        flexDirection: \"row\"\n      },\n      className: \"col text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        marginTop: 30,\n        textAlign: \"center\",\n        fontSize: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }\n    }, \"Update name\"), /*#__PURE__*/React.createElement(\"input\", {\n      required: \"true\",\n      placeholder: \"Name\",\n      value: this.state.name,\n      onChange: this.namehandler,\n      type: \"text\",\n      name: \"name\",\n      className: \"nameinput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 11\n      }\n    }), this.state.loading == false ? /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.submitname,\n      className: \"namebutton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 38\n      }\n    }, \"Update\") : /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.submitname,\n      className: \"namebutton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }\n    }, \"Updating....\"), /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        color: \"red\",\n        fontSize: 18\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }\n    }, this.state.nameerr)), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        flexDirection: \"row\"\n      },\n      className: \"col text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"logoutbutn\",\n      onClick: () => {\n        localStorage.removeItem(\"student_token\");\n        this.props.history.push(\"StudentLogin\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 11\n      }\n    }, \"Logout Account\")));\n  }\n\n}\n\nexport default Editprofile;","map":{"version":3,"sources":["/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Student_Frontend/wap/src/Editprofile.js"],"names":["React","StudentLogin","Editprofile","Component","constructor","props","filechangehandler","event","setState","student_img","target","files","uploadhandler","e","preventDefault","loading","formData","FormData","append","state","fetch","method","body","headers","Authorization","localStorage","getItem","then","res","alert","catch","err","biohandler","bio","value","submitbio","JSON","stringify","json","data","message","console","log","namehandler","name","submitname","trim","nameerr","imgerr","render","flexDirection","marginTop","textAlign","fontSize","color","removeItem","history","push"],"mappings":"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","sourcesContent":["import React from 'react';\nimport StudentLogin from './StudentLogin';\nimport './EditProfile.css';\n\n\n\nclass Editprofile extends React.Component{\n\n   \nconstructor(props){\n    super(props);\n    this.state={\n        name:\"\",\n        student_img:null,\n        nameerr:\"\",\n        imgerr:\"\",\n        loading:false\n    }\n}\n\n\nfilechangehandler=(event)=>{\n    this.setState({student_img:event.target.files[0]})\n  }\n\n  uploadhandler=(e)=>{\n   e.preventDefault();\n\n    this.setState({\n        loading:true\n    })\n    \n   \n   const formData=new FormData();\n   formData.append(\"student_img\",this.state.student_img)\n   \n   fetch(\"http://127.0.0.1:5000/student_update_profile_img\",\n   {\n     method:\"POST\",\n     body:formData,\n     headers:{\n         Authorization:`${localStorage.getItem(\"student_token\")}`\n     }\n\n   }\n   )\n   .then(res=>{alert(\"Profile photo updated\")\n      this.setState({\n          loading:false\n      })\n})\n   .catch(err=>{alert(err)})\n}\n  \n\n\n\n\n  \n\nbiohandler=(e)=>{\n    this.setState({\n        bio:e.target.value\n    })\n}\n\n\n\nsubmitbio=(e)=>{\n    e.preventDefault();\n    \n\n\n\n    fetch(\"http://127.0.0.1:5000/student_update_bio\",{\n        method:\"POST\",\n         body:JSON.stringify(this.state.bio),\n         \"Content-type\":\"application/json\",\n\n    \n    \n    headers:{\n        \n        Authorization:`${localStorage.getItem(\"student_token\")}`,\n       \n    }\n}\n    )\n    .then(res=>res.json())\n    .then(data=>{\n        alert(data.message)\n    })\n    .catch(err=>{console.log(err)})\n    \n}\n\n\n\nnamehandler=(e)=>{\n    this.setState({\n        name:e.target.value\n    })\n}\n\n\n\n\nsubmitname=(e)=>{\n    e.preventDefault();\n       /*I'm checking to see wether the bio is empty or not\n    If it's  empty, we throw error message*/\n   if(this.state.name.trim()==\"\"){\n    this.setState({\n        nameerr:\"Name Required\"\n    })\n}\nelse{\n    //Otherwise we send data to the server for processing\n    fetch(\"http://127.0.0.1:5000/student_update_name\",{\n        method:\"POST\",\n        \"Content-Type\":\"Application/json\",\n         body:JSON.stringify(this.state.name),\n    \n    \n    headers:{\n        Authorization:`${localStorage.getItem(\"student_token\")}`\n    }\n}\n    )\n    .then(res=>res.json())\n    .then(data=>{\n        alert(data.message)\n    }).catch(err=>{console.log(err)})\n} \n}\n\n\n\n\n\n\n\n \n\n  render(){\n      return(\n          <div>\n          <div style={{flexDirection:\"row\"}} className=\"col text-center\">\n          <h3 style={{marginTop:100,textAlign:\"center\",fontSize:20}}>Update profile picture</h3>\n          <input required=\"required\"  onChange={this.filechangehandler} type=\"file\" name=\"instructor_img\" className=\"inputfile1\"/>\n          {this.state.loading==false?<button onClick={this.uploadhandler} className=\"upload-button\">Upload</button>:\n          <button onClick={this.uploadhandler} className=\"upload-button\">Uploading....</button>\n        }\n          <h3 style={{color:\"red\",fontSize:18}}>{this.state.imgerr}</h3>\n          </div>\n\n        \n\n         \n\n          <div style={{flexDirection:\"row\"}} className=\"col text-center\">\n          <h3 style={{marginTop:30,textAlign:\"center\",fontSize:20}}>Update name</h3>\n          <input required=\"true\"  placeholder=\"Name\"value={this.state.name} onChange={this.namehandler} type=\"text\" name=\"name\" className=\"nameinput\"/>\n          {this.state.loading==false?<button onClick={this.submitname} className=\"namebutton\">Update</button>:\n          <button onClick={this.submitname} className=\"namebutton\">Updating....</button>\n          }\n          <h3 style={{color:\"red\",fontSize:18}}>{this.state.nameerr}</h3>\n          </div>\n\n\n         \n          \n        \n\n          <div style={{flexDirection:\"row\"}} className=\"col text-center\">\n          <button className=\"logoutbutn\" onClick={()=>{localStorage.removeItem(\"student_token\");this.props.history.push(\"StudentLogin\")}}>Logout Account</button>\n          </div>\n\n        \n\n\n\n\n\n          </div>\n      )\n  }\n\n}\n\nexport default Editprofile;"]},"metadata":{},"sourceType":"module"}