{"ast":null,"code":"import _defineProperty from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Student_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Student_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Student_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Student_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Student_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/*e.preventDefault() function in any line will prevent\nthe the form from submitting automatically\n*/import React from'react';import StudentLogin from'./StudentLogin';import'./EditProfile.css';var Editprofile=/*#__PURE__*/function(_React$Component){_inherits(Editprofile,_React$Component);var _super=_createSuper(Editprofile);function Editprofile(props){var _this;_classCallCheck(this,Editprofile);_this=_super.call(this,props);_this.filechangehandler=function(event){_this.setState({student_img:event.target.files[0]});};_this.uploadhandler=function(e){e.preventDefault();/*I'm checking to see wether the bio is empty or not\n    If it's  empty, we throw error message*/if(_this.state.student_img==null){_this.setState({imgerr:\"Photo Required\"});}else{//Otherwise we send the image to the server\n_this.setState({img_loading:true});var formData=new FormData();formData.append(\"student_img\",_this.state.student_img);fetch(\"https://merl.herokuapp.com/student_update_profile_img\",{method:\"POST\",body:formData,headers:{Authorization:\"\".concat(localStorage.getItem(\"student_token\"))}}).then(function(res){alert(\"Profile photo updated\");_this.setState({img_loading:false});}).catch(function(err){alert(\"Network Error\");});}};_this.namehandler=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));/*I'm checking to see wether the name is empty or not\n    If it's  empty, we throw error message*/if(_this.state.name.trim()===\"\"){_this.setState({nameerr:\"Name Required\"});}else if(_this.state.name.length<6){_this.setState({nameerr:\"Name must be atleast 6 characters long\"});}else{_this.setState({nameerr:\"\"});}};_this.submitname=function(e){e.preventDefault();/*I'm checking to see wether the name is empty or not\n    If it's  empty, we throw error message*/if(_this.state.name.trim()===\"\"){_this.setState({nameerr:\"Name Required\"});}else if(_this.state.name.length<6){_this.setState({nameerr:\"Name must be atleast 6 characters long\"});}else{//Otherwise we send data to the server for processing\n_this.setState({name_loading:true});fetch(\"https://merl.herokuapp.com/student_update_name\",{method:\"POST\",\"Content-Type\":\"Application/json\",body:JSON.stringify(_this.state.name),headers:{Authorization:\"\".concat(localStorage.getItem(\"student_token\"))}}).then(function(res){return res.json();}).then(function(data){alert(data.message);_this.setState({name_loading:false});}).catch(function(err){console.log(\"No Network\");});}};_this.state={student_img:null,name:\"\",nameerr:\"\",bioerr:\"\",imgerr:\"\",bio:\"\",img_loading:false,name_loading:false,bio_loading:false};return _this;}_createClass(Editprofile,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{style:{flexDirection:\"row\"},className:\"col text-center\"},/*#__PURE__*/React.createElement(\"h3\",{style:{marginTop:100,textAlign:\"center\",fontSize:20}},\"Update profile picture\"),/*#__PURE__*/React.createElement(\"input\",{onChange:this.filechangehandler,type:\"file\",name:\"instructor_img\",className:\"inputfile1\"}),this.state.img_loading==false?/*#__PURE__*/React.createElement(\"button\",{onClick:this.uploadhandler,className:\"upload-button\"},\"Upload\"):/*#__PURE__*/React.createElement(\"button\",{onClick:this.uploadhandler,className:\"upload-button\"},\"Uploading....\"),/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"red\",fontSize:18}},this.state.imgerr)),/*#__PURE__*/React.createElement(\"div\",{style:{flexDirection:\"row\"},className:\"col text-center\"},/*#__PURE__*/React.createElement(\"h3\",{style:{marginTop:30,textAlign:\"center\",fontSize:20}},\"Update name\"),/*#__PURE__*/React.createElement(\"input\",{placeholder:\"Name\",value:this.state.name,onChange:this.namehandler,type:\"text\",name:\"name\",className:\"nameinput\"}),this.state.name_loading==false?/*#__PURE__*/React.createElement(\"button\",{onClick:this.submitname,className:\"namebutton\"},\"Update\"):/*#__PURE__*/React.createElement(\"button\",{onClick:this.submitname,className:\"namebutton\"},\"Updating....\"),/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"red\",fontSize:16}},this.state.nameerr)),/*#__PURE__*/React.createElement(\"div\",{style:{flexDirection:\"row\"},className:\"col text-center\"},/*#__PURE__*/React.createElement(\"button\",{className:\"logoutbutn\",onClick:function onClick(){localStorage.removeItem(\"student_token\");_this2.props.history.push(\"StudentLogin\");}},\"Logout Account\")));}}]);return Editprofile;}(React.Component);export default Editprofile;","map":{"version":3,"sources":["/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Student_Frontend/wap/src/Editprofile.js"],"names":["React","StudentLogin","Editprofile","props","filechangehandler","event","setState","student_img","target","files","uploadhandler","e","preventDefault","state","imgerr","img_loading","formData","FormData","append","fetch","method","body","headers","Authorization","localStorage","getItem","then","res","alert","catch","err","namehandler","name","value","trim","nameerr","length","submitname","name_loading","JSON","stringify","json","data","message","console","log","bioerr","bio","bio_loading","flexDirection","marginTop","textAlign","fontSize","color","removeItem","history","push","Component"],"mappings":"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","sourcesContent":["/*e.preventDefault() function in any line will prevent\nthe the form from submitting automatically\n*/\n\n\nimport React from 'react';\nimport StudentLogin from './StudentLogin';\nimport './EditProfile.css';\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass Editprofile extends React.Component{\n\n   \nconstructor(props){\n    super(props);\n    this.state={\n        student_img:null,\n        name:\"\",\n        nameerr:\"\",\n        bioerr:\"\",\n        imgerr:\"\",\n        bio:\"\",\n        img_loading:false,\n        name_loading:false,\n        bio_loading:false,\n        \n    }\n}\n\n\n\n\n\n\n\n\n\n\n\nfilechangehandler=(event)=>{\n    this.setState({student_img:event.target.files[0]})\n  }\n\n  uploadhandler=(e)=>{\n\n    \n\n   e.preventDefault();\n     /*I'm checking to see wether the bio is empty or not\n    If it's  empty, we throw error message*/\n   if(this.state.student_img==null){\n    this.setState({\n        imgerr:\"Photo Required\"\n    })\n}\n   else{\n   //Otherwise we send the image to the server\n    \n   this.setState({\n    img_loading:true\n})\n\n\n   const formData=new FormData();\n   formData.append(\"student_img\",this.state.student_img)\n   \n   fetch(\"https://merl.herokuapp.com/student_update_profile_img\",\n   {\n     method:\"POST\",\n     body:formData,\n     headers:{\n         Authorization:`${localStorage.getItem(\"student_token\")}`\n     }\n\n   }\n   )\n   .then(res=>{\n       alert(\"Profile photo updated\");\n       this.setState({\n           img_loading:false\n       })\n    })\n   .catch(err=>{alert(\"Network Error\")})\n}\n  }\n\n\n\n\n\n\n\n\n\nnamehandler=(e)=>{\n \nthis.setState({\n    [e.target.name]:e.target.value\n})\n\n      /*I'm checking to see wether the name is empty or not\n    If it's  empty, we throw error message*/\n    if (this.state.name.trim()===\"\"){\n        this.setState({\n            nameerr:\"Name Required\"\n         })\n    }\n\n    else if(this.state.name.length<6){\n        this.setState({\n            nameerr:\"Name must be atleast 6 characters long\"\n        })\n    }\n    else{\n        this.setState({\n            nameerr:\"\"\n        })\n    }\n   \n}\n\n\n\n\nsubmitname=(e)=>{\n    e.preventDefault();\n        /*I'm checking to see wether the name is empty or not\n    If it's  empty, we throw error message*/\n    if (this.state.name.trim()===\"\"){\n        this.setState({\n            nameerr:\"Name Required\"\n         })\n    }\n\n    else if(this.state.name.length<6){\n        this.setState({\n            nameerr:\"Name must be atleast 6 characters long\"\n        })\n    }\n    \n\n    else{\n\n    \n      //Otherwise we send data to the server for processing\n\n      this.setState({\n        name_loading:true\n    })\n\n    fetch(\"https://merl.herokuapp.com/student_update_name\",{\n        method:\"POST\",\n        \"Content-Type\":\"Application/json\",\n         body:JSON.stringify(this.state.name),\n    \n    \n    headers:{\n        Authorization:`${localStorage.getItem(\"student_token\")}`\n    }\n}\n    )\n    .then(res=>res.json())\n    .then(data=>{\n        alert(data.message);\n        this.setState({\n            name_loading:false\n        })\n    }).catch(err=>{console.log(\"No Network\")})\n} \n}\n\n\n\n\n\n\n\n \n\n  render(){\n      return(\n          <div>\n          <div style={{flexDirection:\"row\"}} className=\"col text-center\">\n          <h3 style={{marginTop:100,textAlign:\"center\",fontSize:20}}>Update profile picture</h3>\n          <input onChange={this.filechangehandler} type=\"file\" name=\"instructor_img\" className=\"inputfile1\"/>\n          {this.state.img_loading==false?<button onClick={this.uploadhandler} className=\"upload-button\">Upload</button>:\n          <button onClick={this.uploadhandler} className=\"upload-button\">Uploading....</button>\n        }\n          <h3 style={{color:\"red\",fontSize:18}}>{this.state.imgerr}</h3>\n          </div>\n\n        \n\n        \n         \n         \n\n          <div style={{flexDirection:\"row\"}} className=\"col text-center\">\n          <h3 style={{marginTop:30,textAlign:\"center\",fontSize:20}}>Update name</h3>\n          <input  placeholder=\"Name\"value={this.state.name} onChange={this.namehandler} type=\"text\" name=\"name\" className=\"nameinput\"/>\n          {this.state.name_loading==false?<button onClick={this.submitname} className=\"namebutton\">Update</button>:\n          <button onClick={this.submitname} className=\"namebutton\">Updating....</button>\n          }\n          <h3 style={{color:\"red\",fontSize:16}}>{this.state.nameerr}</h3>\n          </div>\n\n\n\n\n          <div style={{flexDirection:\"row\"}} className=\"col text-center\">\n          <button className=\"logoutbutn\" onClick={()=>{localStorage.removeItem(\"student_token\");this.props.history.push(\"StudentLogin\")}}>Logout Account</button>\n          </div>\n\n        \n\n\n\n\n\n          </div>\n      )\n  }\n\n}\n\nexport default Editprofile;"]},"metadata":{},"sourceType":"module"}