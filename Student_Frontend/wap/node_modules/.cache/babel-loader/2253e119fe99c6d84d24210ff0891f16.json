{"ast":null,"code":"import _classCallCheck from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Student_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Student_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Student_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Student_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import StudentLogin from'./StudentLogin';import'./EditProfile.css';var Editprofile=/*#__PURE__*/function(_React$Component){_inherits(Editprofile,_React$Component);var _super=_createSuper(Editprofile);function Editprofile(props){var _this;_classCallCheck(this,Editprofile);_this=_super.call(this,props);_this.filechangehandler=function(event){_this.setState({student_img:event.target.files[0]});};_this.uploadhandler=function(e){e.preventDefault();var formData=new FormData();formData.append(\"student_img\",_this.state.student_img);fetch(\"http://127.0.0.1:5000/student_update_profile_img\",{method:\"POST\",body:formData,headers:{Authorization:\"\".concat(localStorage.getItem(\"student_token\"))}}).then(function(res){alert(\"Profile photo updated\");}).catch(function(err){alert(err);});};_this.biohandler=function(e){_this.setState({bio:e.target.value});};_this.submitbio=function(e){e.preventDefault();fetch(\"http://127.0.0.1:5000/student_update_bio\",{method:\"POST\",body:JSON.stringify(_this.state.bio),\"Content-type\":\"application/json\",headers:{Authorization:\"\".concat(localStorage.getItem(\"student_token\"))}}).then(function(res){return res.json();}).then(function(data){alert(data.message);}).catch(function(err){console.log(err);});};_this.namehandler=function(e){_this.setState({name:e.target.value});};_this.submitname=function(e){e.preventDefault();/*I'm checking to see wether the bio is empty or not\n    If it's  empty, we throw error message*/if(_this.state.name.trim()==\"\"){_this.setState({nameerr:\"Name Required\"});}else{//Otherwise we send data to the server for processing\nfetch(\"http://127.0.0.1:5000/student_update_name\",{method:\"POST\",\"Content-Type\":\"Application/json\",body:JSON.stringify(_this.state.name),headers:{Authorization:\"\".concat(localStorage.getItem(\"student_token\"))}}).then(function(res){return res.json();}).then(function(data){alert(data.message);}).catch(function(err){console.log(err);});}};_this.state={name:\"\",student_img:null,nameerr:\"\",imgerr:\"\"};return _this;}_createClass(Editprofile,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{style:{flexDirection:\"row\"},className:\"col text-center\"},/*#__PURE__*/React.createElement(\"h3\",{style:{marginTop:100,textAlign:\"center\",fontSize:20}},\"Update profile picture\"),/*#__PURE__*/React.createElement(\"input\",{required:\"required\",onChange:this.filechangehandler,type:\"file\",name:\"instructor_img\",className:\"inputfile1\"}),/*#__PURE__*/React.createElement(\"button\",{onClick:this.uploadhandler,className:\"upload-button\"},\"Upload\"),/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"red\",fontSize:18}},this.state.imgerr)),/*#__PURE__*/React.createElement(\"div\",{style:{flexDirection:\"row\"},className:\"col text-center\"},/*#__PURE__*/React.createElement(\"h3\",{style:{marginTop:30,textAlign:\"center\",fontSize:20}},\"Update name\"),/*#__PURE__*/React.createElement(\"input\",{required:\"true\",placeholder:\"Name\",value:this.state.name,onChange:this.namehandler,type:\"text\",name:\"name\",className:\"nameinput\"}),/*#__PURE__*/React.createElement(\"button\",{onClick:this.submitname,className:\"namebutton\"},\"Update\"),/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"red\",fontSize:18}},this.state.nameerr)),/*#__PURE__*/React.createElement(\"div\",{style:{flexDirection:\"row\"},className:\"col text-center\"},/*#__PURE__*/React.createElement(\"button\",{className:\"logoutbutn\",onClick:function onClick(){localStorage.removeItem(\"student_token\");_this2.props.history.push(\"StudentLogin\");}},\"Logout Account\")));}}]);return Editprofile;}(React.Component);export default Editprofile;","map":{"version":3,"sources":["/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Student_Frontend/wap/src/Editprofile.js"],"names":["React","StudentLogin","Editprofile","props","filechangehandler","event","setState","student_img","target","files","uploadhandler","e","preventDefault","formData","FormData","append","state","fetch","method","body","headers","Authorization","localStorage","getItem","then","res","alert","catch","err","biohandler","bio","value","submitbio","JSON","stringify","json","data","message","console","log","namehandler","name","submitname","trim","nameerr","imgerr","flexDirection","marginTop","textAlign","fontSize","color","removeItem","history","push","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport StudentLogin from './StudentLogin';\nimport './EditProfile.css';\n\nclass Editprofile extends React.Component{\n\n   \nconstructor(props){\n    super(props);\n    this.state={\n        name:\"\",\n        student_img:null,\n        nameerr:\"\",\n        imgerr:\"\"\n    }\n}\n\n\nfilechangehandler=(event)=>{\n    this.setState({student_img:event.target.files[0]})\n  }\n\n  uploadhandler=(e)=>{\n   e.preventDefault();\n\n    \n    \n   \n   const formData=new FormData();\n   formData.append(\"student_img\",this.state.student_img)\n   \n   fetch(\"http://127.0.0.1:5000/student_update_profile_img\",\n   {\n     method:\"POST\",\n     body:formData,\n     headers:{\n         Authorization:`${localStorage.getItem(\"student_token\")}`\n     }\n\n   }\n   ).then(res=>{alert(\"Profile photo updated\")}).catch(err=>{alert(err)})\n}\n  \n\n\n\n\n  \n\nbiohandler=(e)=>{\n    this.setState({\n        bio:e.target.value\n    })\n}\n\n\n\nsubmitbio=(e)=>{\n    e.preventDefault();\n    \n\n\n\n    fetch(\"http://127.0.0.1:5000/student_update_bio\",{\n        method:\"POST\",\n         body:JSON.stringify(this.state.bio),\n         \"Content-type\":\"application/json\",\n\n    \n    \n    headers:{\n        \n        Authorization:`${localStorage.getItem(\"student_token\")}`,\n       \n    }\n}\n    )\n    .then(res=>res.json())\n    .then(data=>{\n        alert(data.message)\n    })\n    .catch(err=>{console.log(err)})\n    \n}\n\n\n\nnamehandler=(e)=>{\n    this.setState({\n        name:e.target.value\n    })\n}\n\n\n\n\nsubmitname=(e)=>{\n    e.preventDefault();\n       /*I'm checking to see wether the bio is empty or not\n    If it's  empty, we throw error message*/\n   if(this.state.name.trim()==\"\"){\n    this.setState({\n        nameerr:\"Name Required\"\n    })\n}\nelse{\n    //Otherwise we send data to the server for processing\n    fetch(\"http://127.0.0.1:5000/student_update_name\",{\n        method:\"POST\",\n        \"Content-Type\":\"Application/json\",\n         body:JSON.stringify(this.state.name),\n    \n    \n    headers:{\n        Authorization:`${localStorage.getItem(\"student_token\")}`\n    }\n}\n    )\n    .then(res=>res.json())\n    .then(data=>{\n        alert(data.message)\n    }).catch(err=>{console.log(err)})\n} \n}\n\n\n\n\n\n\n\n \n\n  render(){\n      return(\n          <div>\n          <div style={{flexDirection:\"row\"}} className=\"col text-center\">\n          <h3 style={{marginTop:100,textAlign:\"center\",fontSize:20}}>Update profile picture</h3>\n          <input required=\"required\"  onChange={this.filechangehandler} type=\"file\" name=\"instructor_img\" className=\"inputfile1\"/>\n          <button onClick={this.uploadhandler} className=\"upload-button\">Upload</button>\n          <h3 style={{color:\"red\",fontSize:18}}>{this.state.imgerr}</h3>\n          </div>\n\n        \n\n         \n\n          <div style={{flexDirection:\"row\"}} className=\"col text-center\">\n          <h3 style={{marginTop:30,textAlign:\"center\",fontSize:20}}>Update name</h3>\n          <input required=\"true\"  placeholder=\"Name\"value={this.state.name} onChange={this.namehandler} type=\"text\" name=\"name\" className=\"nameinput\"/>\n          <button onClick={this.submitname} className=\"namebutton\">Update</button>\n          <h3 style={{color:\"red\",fontSize:18}}>{this.state.nameerr}</h3>\n          </div>\n\n\n         \n          \n        \n\n          <div style={{flexDirection:\"row\"}} className=\"col text-center\">\n          <button className=\"logoutbutn\" onClick={()=>{localStorage.removeItem(\"student_token\");this.props.history.push(\"StudentLogin\")}}>Logout Account</button>\n          </div>\n\n        \n\n\n\n\n\n          </div>\n      )\n  }\n\n}\n\nexport default Editprofile;"]},"metadata":{},"sourceType":"module"}