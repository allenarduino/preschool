{"ast":null,"code":"import _defineProperty from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Admin_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Admin_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Admin_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Admin_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Admin_Frontend/wap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./Topnav.css';import{Link}from'react-router-dom';import'./Signup.css';var AdminLogin=/*#__PURE__*/function(_React$Component){_inherits(AdminLogin,_React$Component);var _super=_createSuper(AdminLogin);function AdminLogin(props){var _this;_classCallCheck(this,AdminLogin);_this=_super.call(this,props);_this.handleinput=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.login=function(e){e.preventDefault();if(_this.state.email.trim()===\"\"){_this.setState({emailerr:\"Email required\"});}else{_this.setState({emailerr:\"\"});}if(_this.state.password.trim()===\"\"){_this.setState({passworderr:\"Password required\"});}else{_this.setState({passworderr:\"\"});_this.setState({loading:true});fetch(\"https://merl.herokuapp.com/admin_login\",{method:\"POST\",body:JSON.stringify(_this.state),headers:{'Content-type':'application/json'}}).then(function(res){return res.json();}).then(function(data){_this.setState({loading:false});if(data.error==null){alert(\"Logged in sucessfully\");localStorage.setItem(\"admin_token\",data);_this.props.history.push(\"AdminProfile\");}else{_this.setState({error:data.error});}}).catch(function(err){alert(err);});}};_this.state={email:\"\",password:\"\",error:\"\",message:\"\",nameerr:\"\",passworderr:\"\",emailerr:\"\",loading:false};return _this;}_createClass(AdminLogin,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"bg\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-container\",onSubmit:this.login},/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.signup,className:\"form-group\"},/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"grey\",fontSize:20}},\"Log in Admin\"),/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"red\",fontSize:20}},this.state.error),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",onChange:this.handleinput,className:\" forminput\",placeholder:\"Email\",name:\"email\",required:\"true\",value:this.state.email}),/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"red\",fontSize:15}},this.state.emailerr),/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"red\",fontSize:15}},this.state.emailerr),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",onChange:this.handleinput,className:\" forminput\",placeholder:\"Password\",name:\"password\",value:this.state.password}),/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"red\",fontSize:15}},this.state.passworderr),this.state.loading==false?/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",className:\"formbutton\",value:\" Log in\"}):/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",className:\"formbutton\",value:\"Sending....\"})))));}}]);return AdminLogin;}(React.Component);export default AdminLogin;","map":{"version":3,"sources":["/media/allen/SIMBAD/Flaskprojects/Preschool/design/preschool/Admin_Frontend/wap/src/AdminLogin.js"],"names":["React","Link","AdminLogin","props","handleinput","e","setState","target","name","value","login","preventDefault","state","email","trim","emailerr","password","passworderr","loading","fetch","method","body","JSON","stringify","headers","then","res","json","data","error","alert","localStorage","setItem","history","push","catch","err","message","nameerr","signup","color","fontSize","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './Topnav.css';\nimport {Link} from 'react-router-dom';\nimport './Signup.css';\n\n\nclass AdminLogin extends React.Component{\n\n\n\n\n    constructor(props){\n        super(props);\n        this.state={\n            email:\"\",\n            password:\"\",\n            error:\"\",\n            message:\"\",\n            nameerr:\"\",\n            passworderr:\"\",\n            emailerr:\"\",\n            loading:false\n            \n        }\n    }\n\n    handleinput=(e)=>{\n        this.setState({\n          [e.target.name]:e.target.value\n        });\n    }\n\n    login=(e)=>{\n        e.preventDefault();\n    \n\n        if (this.state.email.trim()===\"\"){\n            this.setState({emailerr:\"Email required\"})\n        }\n        else{\n            this.setState({emailerr:\"\"})\n        }\n\n        if (this.state.password.trim()===\"\"){\n            this.setState({passworderr:\"Password required\"})\n        }\n        else{\n            this.setState({passworderr:\"\"})\n\n     \n            this.setState({\n                loading:true\n            })\n\n\n        fetch(\"https://merl.herokuapp.com/admin_login\",{\n            method:\"POST\",\n            body:JSON.stringify(this.state),\n            headers:{\n                'Content-type':'application/json'\n            }\n        })\n        .then(res=>res.json())\n        .then(data=>{\n\n                   this.setState({\n                       loading:false\n                   })\n\n            if (data.error==null){\n                alert(\"Logged in sucessfully\");\n                localStorage.setItem(\"admin_token\",data)\n                this.props.history.push(\"AdminProfile\");\n            }\n            else{\n                this.setState({error:data.error})\n            }\n        }).catch((err)=>{alert(err)});\n        \n        }\n\n\n\n\n    }\n\n\n\n\n\n\n\n    render(){\n        return(\n            \n            <div className=\"row\">\n            <div className=\"bg\">\n                  <div className=\"form-container\" onSubmit={this.login}>\n                      <form onSubmit={this.signup} className=\"form-group\">\n                          <h3 style={{color:\"grey\",fontSize:20}}>Log in Admin</h3>\n                      <h3 style={{color:\"red\",fontSize:20}}>{this.state.error}</h3>\n                    \n                       <input type=\"text\" onChange={this.handleinput}\n                          className=\" forminput\"\n                          placeholder=\"Email\"\n                          name=\"email\"\n                          required=\"true\"\n                          value={this.state.email}\n                          />\n                        <h3 style={{color:\"red\",fontSize:15}}>{this.state.emailerr}</h3>\n                        <h3 style={{color:\"red\",fontSize:15}}>{this.state.emailerr}</h3>\n                       <input type=\"password\" onChange={this.handleinput}\n                          className=\" forminput\"\n                          placeholder=\"Password\"\n                          name=\"password\"\n                          value={this.state.password}\n                          />\n                          <h3 style={{color:\"red\",fontSize:15}}>{this.state.passworderr}</h3>\n\n                       { this.state.loading==false?<input type=\"submit\" className=\"formbutton\" value=\" Log in\"/>:<input type=\"submit\" className=\"formbutton\" value=\"Sending....\"/>}\n                         \n                      </form>\n            </div>\n         </div>\n         </div>\n         \n         \n         \n        )\n    }\n}\n\nexport default AdminLogin;"]},"metadata":{},"sourceType":"module"}